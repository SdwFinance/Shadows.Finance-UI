(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32a5be16"],{"00fd":function(t,e,n){var r=n("9e69"),o=Object.prototype,i=o.hasOwnProperty,c=o.toString,s=r?r.toStringTag:void 0;function a(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(a){}var o=c.call(t);return r&&(e?t[s]=n:delete t[s]),o}t.exports=a},"03dd":function(t,e,n){var r=n("eac5"),o=n("57a5"),i=Object.prototype,c=i.hasOwnProperty;function s(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))c.call(t,n)&&"constructor"!=n&&e.push(n);return e}t.exports=s},"07c7":function(t,e){function n(){return!1}t.exports=n},"0d24":function(t,e,n){(function(t){var r=n("2b3e"),o=n("07c7"),i=e&&!e.nodeType&&e,c=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=c&&c.exports===i,a=s?r.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||o;t.exports=l}).call(this,n("62e4")(t))},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},"16a1":function(t,e,n){const r=n("417a"),o=n("364d"),i=n("f0f8"),{bnToHex:c,hexToInt:s,incrementHexInt:a,minBlockRef:u,blockRefIsNumber:l}=n("509d");class f extends i{constructor({provider:t,params:e}){super(),this.type="log",this.ethQuery=new r(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},e),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(t=>t.toLowerCase()))}async initialize({currentBlock:t}){let e=this.params.fromBlock;["latest","pending"].includes(e)&&(e=t),"earliest"===e&&(e="0x0"),this.params.fromBlock=e;const n=u(this.params.toBlock,t),r=Object.assign({},this.params,{toBlock:n}),o=await this._fetchLogs(r);this.addInitialResults(o)}async update({oldBlock:t,newBlock:e}){const n=e;let r;r=t?a(t):e;const o=Object.assign({},this.params,{fromBlock:r,toBlock:n}),i=await this._fetchLogs(o),c=i.filter(t=>this.matchLog(t));this.addResults(c)}async _fetchLogs(t){const e=await o(e=>this.ethQuery.getLogs(t,e))();return e}matchLog(t){if(s(this.params.fromBlock)>=s(t.blockNumber))return!1;if(l(this.params.toBlock)&&s(this.params.toBlock)<=s(t.blockNumber))return!1;const e=t.address&&t.address.toLowerCase();if(this.params.address&&e&&!this.params.address.includes(e))return!1;const n=this.params.topics.every((e,n)=>{let r=t.topics[n];if(!r)return!1;r=r.toLowerCase();let o=Array.isArray(e)?e:[e];const i=o.includes(null);if(i)return!0;o=o.map(t=>t.toLowerCase());const c=o.includes(r);return c});return n}}t.exports=f},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"253c":function(t,e,n){var r=n("3729"),o=n("1310"),i="[object Arguments]";function c(t){return o(t)&&r(t)==i}t.exports=c},"29f3":function(t,e){var n=Object.prototype,r=n.toString;function o(t){return r.call(t)}t.exports=o},"2b3e":function(t,e,n){var r=n("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},"30c9":function(t,e,n){var r=n("9520"),o=n("b218");function i(t){return null!=t&&o(t.length)&&!r(t)}t.exports=i},"364d":function(t,e,n){"use strict";const r=(t,e)=>function(){const n=e.promiseModule,r=new Array(arguments.length);for(let t=0;t<arguments.length;t++)r[t]=arguments[t];return new n((n,o)=>{e.errorFirst?r.push((function(t,r){if(e.multiArgs){const e=new Array(arguments.length-1);for(let t=1;t<arguments.length;t++)e[t-1]=arguments[t];t?(e.unshift(t),o(e)):n(e)}else t?o(t):n(r)})):r.push((function(t){if(e.multiArgs){const t=new Array(arguments.length-1);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];n(t)}else n(t)})),t.apply(this,r)})};t.exports=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const n=t=>{const n=e=>"string"===typeof e?t===e:e.test(t);return e.include?e.include.some(n):!e.exclude.some(n)};let o;o="function"===typeof t?function(){return e.excludeMain?t.apply(this,arguments):r(t,e).apply(this,arguments)}:Object.create(Object.getPrototypeOf(t));for(const i in t){const c=t[i];o[i]="function"===typeof c&&n(i)?r(c,e):c}return o}},3729:function(t,e,n){var r=n("9e69"),o=n("00fd"),i=n("29f3"),c="[object Null]",s="[object Undefined]",a=r?r.toStringTag:void 0;function u(t){return null==t?void 0===t?s:c:a&&a in Object(t)?o(t):i(t)}t.exports=u},"417a":function(t,e,n){const r=n("53a8"),o=n("d89d")();function i(t){const e=this;e.currentProvider=t}function c(t){return function(){const e=this;var n=[].slice.call(arguments),r=n.pop();e.sendAsync({method:t,params:n},r)}}function s(t,e){return function(){const n=this;var r=[].slice.call(arguments),o=r.pop();r.length<t&&r.push("latest"),n.sendAsync({method:e,params:r},o)}}function a(t){return r({id:o(),jsonrpc:"2.0",params:[]},t)}t.exports=i,i.prototype.getBalance=s(2,"eth_getBalance"),i.prototype.getCode=s(2,"eth_getCode"),i.prototype.getTransactionCount=s(2,"eth_getTransactionCount"),i.prototype.getStorageAt=s(3,"eth_getStorageAt"),i.prototype.call=s(2,"eth_call"),i.prototype.protocolVersion=c("eth_protocolVersion"),i.prototype.syncing=c("eth_syncing"),i.prototype.coinbase=c("eth_coinbase"),i.prototype.mining=c("eth_mining"),i.prototype.hashrate=c("eth_hashrate"),i.prototype.gasPrice=c("eth_gasPrice"),i.prototype.accounts=c("eth_accounts"),i.prototype.blockNumber=c("eth_blockNumber"),i.prototype.getBlockTransactionCountByHash=c("eth_getBlockTransactionCountByHash"),i.prototype.getBlockTransactionCountByNumber=c("eth_getBlockTransactionCountByNumber"),i.prototype.getUncleCountByBlockHash=c("eth_getUncleCountByBlockHash"),i.prototype.getUncleCountByBlockNumber=c("eth_getUncleCountByBlockNumber"),i.prototype.sign=c("eth_sign"),i.prototype.sendTransaction=c("eth_sendTransaction"),i.prototype.sendRawTransaction=c("eth_sendRawTransaction"),i.prototype.estimateGas=c("eth_estimateGas"),i.prototype.getBlockByHash=c("eth_getBlockByHash"),i.prototype.getBlockByNumber=c("eth_getBlockByNumber"),i.prototype.getTransactionByHash=c("eth_getTransactionByHash"),i.prototype.getTransactionByBlockHashAndIndex=c("eth_getTransactionByBlockHashAndIndex"),i.prototype.getTransactionByBlockNumberAndIndex=c("eth_getTransactionByBlockNumberAndIndex"),i.prototype.getTransactionReceipt=c("eth_getTransactionReceipt"),i.prototype.getUncleByBlockHashAndIndex=c("eth_getUncleByBlockHashAndIndex"),i.prototype.getUncleByBlockNumberAndIndex=c("eth_getUncleByBlockNumberAndIndex"),i.prototype.getCompilers=c("eth_getCompilers"),i.prototype.compileLLL=c("eth_compileLLL"),i.prototype.compileSolidity=c("eth_compileSolidity"),i.prototype.compileSerpent=c("eth_compileSerpent"),i.prototype.newFilter=c("eth_newFilter"),i.prototype.newBlockFilter=c("eth_newBlockFilter"),i.prototype.newPendingTransactionFilter=c("eth_newPendingTransactionFilter"),i.prototype.uninstallFilter=c("eth_uninstallFilter"),i.prototype.getFilterChanges=c("eth_getFilterChanges"),i.prototype.getFilterLogs=c("eth_getFilterLogs"),i.prototype.getLogs=c("eth_getLogs"),i.prototype.getWork=c("eth_getWork"),i.prototype.submitWork=c("eth_submitWork"),i.prototype.submitHashrate=c("eth_submitHashrate"),i.prototype.sendAsync=function(t,e){const n=this;n.currentProvider.sendAsync(a(t),(function(t,n){if(!t&&n.error&&(t=new Error("EthQuery - RPC Error - "+n.error.message)),t)return e(t);e(null,n.result)}))}},4465:function(t,e){var n,r,o,i,c={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(t){throw{name:"SyntaxError",message:t,at:n,text:o}},a=function(t){return t&&t!==r&&s("Expected '"+t+"' instead of '"+r+"'"),r=o.charAt(n),n+=1,r},u=function(){var t,e="";"-"===r&&(e="-",a("-"));while(r>="0"&&r<="9")e+=r,a();if("."===r){e+=".";while(a()&&r>="0"&&r<="9")e+=r}if("e"===r||"E"===r){e+=r,a(),"-"!==r&&"+"!==r||(e+=r,a());while(r>="0"&&r<="9")e+=r,a()}if(t=+e,isFinite(t))return t;s("Bad number")},l=function(){var t,e,n,o="";if('"'===r)while(a()){if('"'===r)return a(),o;if("\\"===r)if(a(),"u"===r){for(n=0,e=0;e<4;e+=1){if(t=parseInt(a(),16),!isFinite(t))break;n=16*n+t}o+=String.fromCharCode(n)}else{if("string"!==typeof c[r])break;o+=c[r]}else o+=r}s("Bad string")},f=function(){while(r&&r<=" ")a()},p=function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}s("Unexpected '"+r+"'")},h=function(){var t=[];if("["===r){if(a("["),f(),"]"===r)return a("]"),t;while(r){if(t.push(i()),f(),"]"===r)return a("]"),t;a(","),f()}}s("Bad array")},d=function(){var t,e={};if("{"===r){if(a("{"),f(),"}"===r)return a("}"),e;while(r){if(t=l(),f(),a(":"),Object.hasOwnProperty.call(e,t)&&s('Duplicate key "'+t+'"'),e[t]=i(),f(),"}"===r)return a("}"),e;a(","),f()}}s("Bad object")};i=function(){switch(f(),r){case"{":return d();case"[":return h();case'"':return l();case"-":return u();default:return r>="0"&&r<="9"?u():p()}},t.exports=function(t,e){var c;return o=t,n=0,r=" ",c=i(),f(),r&&s("Syntax error"),"function"===typeof e?function t(n,r){var o,i,c=n[r];if(c&&"object"===typeof c)for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(i=t(c,o),void 0!==i?c[o]=i:delete c[o]);return e.call(n,r,c)}({"":c},""):c}},"509d":function(t,e){function n(...t){const e=o(t);return e[0]}function r(...t){const e=o(t);return e[e.length-1]}function o(t){return t.sort((t,e)=>"latest"===t||"earliest"===e?1:"latest"===e||"earliest"===t?-1:s(t)-s(e))}function i(t){return"0x"+t.toString(16)}function c(t){return t&&!["earliest","latest","pending"].includes(t)}function s(t){return void 0===t||null===t?t:Number.parseInt(t,16)}function a(t){if(void 0===t||null===t)return t;const e=s(t);return u(e+1)}function u(t){if(void 0===t||null===t)return t;let e=t.toString(16);const n=e.length%2;return n&&(e="0"+e),"0x"+e}function l(t){let e="0x";for(let n=0;n<t;n++)e+=f(),e+=f();return e}function f(){return Math.floor(16*Math.random()).toString(16)}t.exports={minBlockRef:n,maxBlockRef:r,sortBlockRefs:o,bnToHex:i,blockRefIsNumber:c,hexToInt:s,incrementHexInt:a,intToHex:u,unsafeRandomBytes:l}},"50d8":function(t,e){function n(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}t.exports=n},"579c":function(t,e,n){const r=n("364d"),o=n("feef"),i=1e3;class c extends o{constructor(t={}){if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");const e=t.pollingInterval||20*i,n=t.retryTimeout||e/10,r=void 0===t.keepEventLoopActive||t.keepEventLoopActive,o=t.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:e},t)),this._provider=t.provider,this._pollingInterval=e,this._retryTimeout=n,this._keepEventLoopActive=r,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(t=>this.emit("error",t))}async _performSync(){while(this._isRunning)try{await this._updateLatestBlock(),await s(this._pollingInterval,!this._keepEventLoopActive)}catch(t){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${t.stack}`);try{this.emit("error",n)}catch(e){console.error(n)}await s(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0);const e=await r(e=>this._provider.sendAsync(t,e))();if(e.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${e.error}`);return e.result}}function s(t,e){return new Promise(n=>{const r=setTimeout(n,t);r.unref&&e&&r.unref()})}t.exports=c},"57a5":function(t,e,n){var r=n("91e9"),o=r(Object.keys,Object);t.exports=o},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},6747:function(t,e){var n=Array.isArray;t.exports=n},"6fcd":function(t,e,n){var r=n("50d8"),o=n("d370"),i=n("6747"),c=n("0d24"),s=n("c098"),a=n("73ac"),u=Object.prototype,l=u.hasOwnProperty;function f(t,e){var n=i(t),u=!n&&o(t),f=!n&&!u&&c(t),p=!n&&!u&&!f&&a(t),h=n||u||f||p,d=h?r(t.length,String):[],y=d.length;for(var v in t)!e&&!l.call(t,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v);return d}t.exports=f},"73ac":function(t,e,n){var r=n("743f"),o=n("b047"),i=n("99d3"),c=i&&i.isTypedArray,s=c?o(c):r;t.exports=s},7409:function(t,e,n){(function(t,n){var r=200,o="Expected a function",i="__lodash_hash_undefined__",c=1,s=2,a=1/0,u=9007199254740991,l="[object Arguments]",f="[object Array]",p="[object Boolean]",h="[object Date]",d="[object Error]",y="[object Function]",v="[object GeneratorFunction]",b="[object Map]",g="[object Number]",_="[object Object]",m="[object Promise]",w="[object RegExp]",k="[object Set]",B="[object String]",j="[object Symbol]",x="[object WeakMap]",A="[object ArrayBuffer]",T="[object DataView]",O="[object Float32Array]",R="[object Float64Array]",L="[object Int8Array]",S="[object Int16Array]",F="[object Int32Array]",C="[object Uint8Array]",E="[object Uint8ClampedArray]",I="[object Uint16Array]",N="[object Uint32Array]",P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,U=/^\./,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,D=/\\(\\)?/g,q=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,W={};W[O]=W[R]=W[L]=W[S]=W[F]=W[C]=W[E]=W[I]=W[N]=!0,W[l]=W[f]=W[A]=W[p]=W[T]=W[h]=W[d]=W[y]=W[b]=W[g]=W[_]=W[w]=W[k]=W[B]=W[x]=!1;var z="object"==typeof t&&t&&t.Object===Object&&t,G="object"==typeof self&&self&&self.Object===Object&&self,V=z||G||Function("return this")(),Q=e&&!e.nodeType&&e,X=Q&&"object"==typeof n&&n&&!n.nodeType&&n,K=X&&X.exports===Q,Y=K&&z.process,Z=function(){try{return Y&&Y.binding("util")}catch(t){}}(),tt=Z&&Z.isTypedArray;function et(t,e){var n=-1,r=t?t.length:0,o=Array(r);while(++n<r)o[n]=e(t[n],n,t);return o}function nt(t,e){var n=-1,r=e.length,o=t.length;while(++n<r)t[o+n]=e[n];return t}function rt(t,e){var n=-1,r=t?t.length:0;while(++n<r)if(e(t[n],n,t))return!0;return!1}function ot(t){return function(e){return null==e?void 0:e[t]}}function it(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function ct(t){return function(e){return t(e)}}function st(t,e){return null==t?void 0:t[e]}function at(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function ut(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function lt(t,e){return function(n){return t(e(n))}}function ft(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var pt=Array.prototype,ht=Function.prototype,dt=Object.prototype,yt=V["__core-js_shared__"],vt=function(){var t=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bt=ht.toString,gt=dt.hasOwnProperty,_t=dt.toString,mt=RegExp("^"+bt.call(gt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=V.Symbol,kt=V.Uint8Array,Bt=dt.propertyIsEnumerable,jt=pt.splice,xt=wt?wt.isConcatSpreadable:void 0,At=lt(Object.keys,Object),Tt=qe(V,"DataView"),Ot=qe(V,"Map"),Rt=qe(V,"Promise"),Lt=qe(V,"Set"),St=qe(V,"WeakMap"),Ft=qe(Object,"create"),Ct=nn(Tt),Et=nn(Ot),It=nn(Rt),Nt=nn(Lt),Pt=nn(St),Ht=wt?wt.prototype:void 0,Ut=Ht?Ht.valueOf:void 0,Mt=Ht?Ht.toString:void 0;function $t(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dt(){this.__data__=Ft?Ft(null):{}}function qt(t){return this.has(t)&&delete this.__data__[t]}function Jt(t){var e=this.__data__;if(Ft){var n=e[t];return n===i?void 0:n}return gt.call(e,t)?e[t]:void 0}function Wt(t){var e=this.__data__;return Ft?void 0!==e[t]:gt.call(e,t)}function zt(t,e){var n=this.__data__;return n[t]=Ft&&void 0===e?i:e,this}function Gt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Vt(){this.__data__=[]}function Qt(t){var e=this.__data__,n=ye(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jt.call(e,n,1),!0}function Xt(t){var e=this.__data__,n=ye(e,t);return n<0?void 0:e[n][1]}function Kt(t){return ye(this.__data__,t)>-1}function Yt(t,e){var n=this.__data__,r=ye(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function Zt(t){var e=-1,n=t?t.length:0;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function te(){this.__data__={hash:new $t,map:new(Ot||Gt),string:new $t}}function ee(t){return $e(this,t)["delete"](t)}function ne(t){return $e(this,t).get(t)}function re(t){return $e(this,t).has(t)}function oe(t,e){return $e(this,t).set(t,e),this}function ie(t){var e=-1,n=t?t.length:0;this.__data__=new Zt;while(++e<n)this.add(t[e])}function ce(t){return this.__data__.set(t,i),this}function se(t){return this.__data__.has(t)}function ae(t){this.__data__=new Gt(t)}function ue(){this.__data__=new Gt}function le(t){return this.__data__["delete"](t)}function fe(t){return this.__data__.get(t)}function pe(t){return this.__data__.has(t)}function he(t,e){var n=this.__data__;if(n instanceof Gt){var o=n.__data__;if(!Ot||o.length<r-1)return o.push([t,e]),this;n=this.__data__=new Zt(o)}return n.set(t,e),this}function de(t,e){var n=un(t)||an(t)?it(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!gt.call(t,i)||o&&("length"==i||Ge(i,r))||n.push(i);return n}function ye(t,e){var n=t.length;while(n--)if(sn(t[n][0],e))return n;return-1}$t.prototype.clear=Dt,$t.prototype["delete"]=qt,$t.prototype.get=Jt,$t.prototype.has=Wt,$t.prototype.set=zt,Gt.prototype.clear=Vt,Gt.prototype["delete"]=Qt,Gt.prototype.get=Xt,Gt.prototype.has=Kt,Gt.prototype.set=Yt,Zt.prototype.clear=te,Zt.prototype["delete"]=ee,Zt.prototype.get=ne,Zt.prototype.has=re,Zt.prototype.set=oe,ie.prototype.add=ie.prototype.push=ce,ie.prototype.has=se,ae.prototype.clear=ue,ae.prototype["delete"]=le,ae.prototype.get=fe,ae.prototype.has=pe,ae.prototype.set=he;var ve=Ne(_e);function be(t,e,n,r,o){var i=-1,c=t.length;n||(n=ze),o||(o=[]);while(++i<c){var s=t[i];e>0&&n(s)?e>1?be(s,e-1,n,r,o):nt(o,s):r||(o[o.length]=s)}return o}var ge=Pe();function _e(t,e){return t&&ge(t,e,wn)}function me(t,e){e=Ve(e,t)?[e]:Ie(e);var n=0,r=e.length;while(null!=t&&n<r)t=t[en(e[n++])];return n&&n==r?t:void 0}function we(t){return _t.call(t)}function ke(t,e){return null!=t&&e in Object(t)}function Be(t,e,n,r,o){return t===e||(null==t||null==e||!dn(t)&&!yn(e)?t!==t&&e!==e:je(t,e,Be,n,r,o))}function je(t,e,n,r,o,i){var c=un(t),a=un(e),u=f,p=f;c||(u=Je(t),u=u==l?_:u),a||(p=Je(e),p=p==l?_:p);var h=u==_&&!at(t),d=p==_&&!at(e),y=u==p;if(y&&!h)return i||(i=new ae),c||bn(t)?He(t,e,n,r,o,i):Ue(t,e,u,n,r,o,i);if(!(o&s)){var v=h&&gt.call(t,"__wrapped__"),b=d&&gt.call(e,"__wrapped__");if(v||b){var g=v?t.value():t,m=b?e.value():e;return i||(i=new ae),n(g,m,r,o,i)}}return!!y&&(i||(i=new ae),Me(t,e,n,r,o,i))}function xe(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;t=Object(t);while(o--){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}while(++o<i){u=n[o];var l=u[0],f=t[l],p=u[1];if(a&&u[2]){if(void 0===f&&!(l in t))return!1}else{var h=new ae;if(r)var d=r(f,p,l,t,e,h);if(!(void 0===d?Be(p,f,r,c|s,h):d))return!1}}return!0}function Ae(t){if(!dn(t)||Xe(t))return!1;var e=pn(t)||at(t)?mt:q;return e.test(nn(t))}function Te(t){return yn(t)&&hn(t.length)&&!!W[_t.call(t)]}function Oe(t){return"function"==typeof t?t:null==t?kn:"object"==typeof t?un(t)?Fe(t[0],t[1]):Se(t):Bn(t)}function Re(t){if(!Ke(t))return At(t);var e=[];for(var n in Object(t))gt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Le(t,e){var n=-1,r=ln(t)?Array(t.length):[];return ve(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}function Se(t){var e=De(t);return 1==e.length&&e[0][2]?Ze(e[0][0],e[0][1]):function(n){return n===t||xe(n,t,e)}}function Fe(t,e){return Ve(t)&&Ye(e)?Ze(en(t),e):function(n){var r=_n(n,t);return void 0===r&&r===e?mn(n,t):Be(e,r,void 0,c|s)}}function Ce(t){return function(e){return me(e,t)}}function Ee(t){if("string"==typeof t)return t;if(vn(t))return Mt?Mt.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}function Ie(t){return un(t)?t:tn(t)}function Ne(t,e){return function(n,r){if(null==n)return n;if(!ln(n))return t(n,r);var o=n.length,i=e?o:-1,c=Object(n);while(e?i--:++i<o)if(!1===r(c[i],i,c))break;return n}}function Pe(t){return function(e,n,r){var o=-1,i=Object(e),c=r(e),s=c.length;while(s--){var a=c[t?s:++o];if(!1===n(i[a],a,i))break}return e}}function He(t,e,n,r,o,i){var a=o&s,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var f=i.get(t);if(f&&i.get(e))return f==e;var p=-1,h=!0,d=o&c?new ie:void 0;i.set(t,e),i.set(e,t);while(++p<u){var y=t[p],v=e[p];if(r)var b=a?r(v,y,p,e,t,i):r(y,v,p,t,e,i);if(void 0!==b){if(b)continue;h=!1;break}if(d){if(!rt(e,(function(t,e){if(!d.has(e)&&(y===t||n(y,t,r,o,i)))return d.add(e)}))){h=!1;break}}else if(y!==v&&!n(y,v,r,o,i)){h=!1;break}}return i["delete"](t),i["delete"](e),h}function Ue(t,e,n,r,o,i,a){switch(n){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!r(new kt(t),new kt(e)));case p:case h:case g:return sn(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case B:return t==e+"";case b:var u=ut;case k:var l=i&s;if(u||(u=ft),t.size!=e.size&&!l)return!1;var f=a.get(t);if(f)return f==e;i|=c,a.set(t,e);var y=He(u(t),u(e),r,o,i,a);return a["delete"](t),y;case j:if(Ut)return Ut.call(t)==Ut.call(e)}return!1}function Me(t,e,n,r,o,i){var c=o&s,a=wn(t),u=a.length,l=wn(e),f=l.length;if(u!=f&&!c)return!1;var p=u;while(p--){var h=a[p];if(!(c?h in e:gt.call(e,h)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var y=!0;i.set(t,e),i.set(e,t);var v=c;while(++p<u){h=a[p];var b=t[h],g=e[h];if(r)var _=c?r(g,b,h,e,t,i):r(b,g,h,t,e,i);if(!(void 0===_?b===g||n(b,g,r,o,i):_)){y=!1;break}v||(v="constructor"==h)}if(y&&!v){var m=t.constructor,w=e.constructor;m==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w||(y=!1)}return i["delete"](t),i["delete"](e),y}function $e(t,e){var n=t.__data__;return Qe(e)?n["string"==typeof e?"string":"hash"]:n.map}function De(t){var e=wn(t),n=e.length;while(n--){var r=e[n],o=t[r];e[n]=[r,o,Ye(o)]}return e}function qe(t,e){var n=st(t,e);return Ae(n)?n:void 0}var Je=we;function We(t,e,n){e=Ve(e,t)?[e]:Ie(e);var r,o=-1,i=e.length;while(++o<i){var c=en(e[o]);if(!(r=null!=t&&n(t,c)))break;t=t[c]}if(r)return r;i=t?t.length:0;return!!i&&hn(i)&&Ge(c,i)&&(un(t)||an(t))}function ze(t){return un(t)||an(t)||!!(xt&&t&&t[xt])}function Ge(t,e){return e=null==e?u:e,!!e&&("number"==typeof t||J.test(t))&&t>-1&&t%1==0&&t<e}function Ve(t,e){if(un(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!vn(t))||(H.test(t)||!P.test(t)||null!=e&&t in Object(e))}function Qe(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Xe(t){return!!vt&&vt in t}function Ke(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||dt;return t===n}function Ye(t){return t===t&&!dn(t)}function Ze(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}(Tt&&Je(new Tt(new ArrayBuffer(1)))!=T||Ot&&Je(new Ot)!=b||Rt&&Je(Rt.resolve())!=m||Lt&&Je(new Lt)!=k||St&&Je(new St)!=x)&&(Je=function(t){var e=_t.call(t),n=e==_?t.constructor:void 0,r=n?nn(n):void 0;if(r)switch(r){case Ct:return T;case Et:return b;case It:return m;case Nt:return k;case Pt:return x}return e});var tn=cn((function(t){t=gn(t);var e=[];return U.test(t)&&e.push(""),t.replace(M,(function(t,n,r,o){e.push(r?o.replace(D,"$1"):n||t)})),e}));function en(t){if("string"==typeof t||vn(t))return t;var e=t+"";return"0"==e&&1/t==-a?"-0":e}function nn(t){if(null!=t){try{return bt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function rn(t,e){return be(on(t,e),1)}function on(t,e){var n=un(t)?et:Le;return n(t,Oe(e,3))}function cn(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var c=t.apply(this,r);return n.cache=i.set(o,c),c};return n.cache=new(cn.Cache||Zt),n}function sn(t,e){return t===e||t!==t&&e!==e}function an(t){return fn(t)&&gt.call(t,"callee")&&(!Bt.call(t,"callee")||_t.call(t)==l)}cn.Cache=Zt;var un=Array.isArray;function ln(t){return null!=t&&hn(t.length)&&!pn(t)}function fn(t){return yn(t)&&ln(t)}function pn(t){var e=dn(t)?_t.call(t):"";return e==y||e==v}function hn(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function dn(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function yn(t){return!!t&&"object"==typeof t}function vn(t){return"symbol"==typeof t||yn(t)&&_t.call(t)==j}var bn=tt?ct(tt):Te;function gn(t){return null==t?"":Ee(t)}function _n(t,e,n){var r=null==t?void 0:me(t,e);return void 0===r?n:r}function mn(t,e){return null!=t&&We(t,e,ke)}function wn(t){return ln(t)?de(t):Re(t)}function kn(t){return t}function Bn(t){return Ve(t)?ot(en(t)):Ce(t)}n.exports=rn}).call(this,n("c8ba"),n("62e4")(t))},"743f":function(t,e,n){var r=n("3729"),o=n("b218"),i=n("1310"),c="[object Arguments]",s="[object Array]",a="[object Boolean]",u="[object Date]",l="[object Error]",f="[object Function]",p="[object Map]",h="[object Number]",d="[object Object]",y="[object RegExp]",v="[object Set]",b="[object String]",g="[object WeakMap]",_="[object ArrayBuffer]",m="[object DataView]",w="[object Float32Array]",k="[object Float64Array]",B="[object Int8Array]",j="[object Int16Array]",x="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",L={};function S(t){return i(t)&&o(t.length)&&!!L[r(t)]}L[w]=L[k]=L[B]=L[j]=L[x]=L[A]=L[T]=L[O]=L[R]=!0,L[c]=L[s]=L[_]=L[a]=L[m]=L[u]=L[l]=L[f]=L[p]=L[h]=L[d]=L[y]=L[v]=L[b]=L[g]=!1,t.exports=S},"76cb":function(t,e,n){e.parse=n("4465"),e.stringify=n("b8f4")},8720:function(t,e,n){const r=n("7409"),o=n("cef4"),i=n("d109"),{incrementHexInt:c}=n("509d");class s extends o{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const e=t,n=c(t),o=await i({provider:this.provider,fromBlock:n,toBlock:e}),s=r(o,t=>t.transactions);this.addResults(s)}}t.exports=s},"91e9":function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},9520:function(t,e,n){var r=n("3729"),o=n("1a8c"),i="[object AsyncFunction]",c="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function u(t){if(!o(t))return!1;var e=r(t);return e==c||e==s||e==i||e==a}t.exports=u},"99d3":function(t,e,n){(function(t){var r=n("585a"),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,c=i&&i.exports===o,s=c&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=a}).call(this,n("62e4")(t))},"9e69":function(t,e,n){var r=n("2b3e"),o=r.Symbol;t.exports=o},a1d9:function(t,e,n){(function(e){(function(n){"use strict";var r=function(t){setTimeout(t,0)};function o(t){var e={capacity:t||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===e.firstHere){e.current++,e.firstHere=!0;var t=1}else t=0;var n={n:1};"function"==typeof arguments[0]?n.task=arguments[0]:n.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?n.task=arguments[1]:n.n=arguments[1]);var r=n.task;if(n.task=function(){r(e.leave)},e.current+n.n-t>e.capacity)return 1===t&&(e.current--,e.firstHere=!1),e.queue.push(n);e.current+=n.n-t,n.task(e.leave),1===t&&(e.firstHere=!1)},leave:function(t){if(t=t||1,e.current-=t,e.queue.length){var n=e.queue[0];n.n+e.current>e.capacity||(e.queue.shift(),e.current+=n.n,r(n.task))}else if(e.current<0)throw new Error("leave called too many times.")},available:function(t){return t=t||1,e.current+t<=e.capacity}};return e}"undefined"!=typeof e&&e&&"function"==typeof e.nextTick&&(r=e.nextTick),t.exports=o})()}).call(this,n("4362"))},ac4f:function(t,e,n){var r="undefined"!==typeof JSON?JSON:n("76cb");t.exports=function(t,e){e||(e={}),"function"===typeof e&&(e={cmp:e});var n=e.space||"";"number"===typeof n&&(n=Array(n+1).join(" "));var c="boolean"===typeof e.cycles&&e.cycles,s=e.replacer||function(t,e){return e},a=e.cmp&&function(t){return function(e){return function(n,r){var o={key:n,value:e[n]},i={key:r,value:e[r]};return t(o,i)}}}(e.cmp),u=[];return function t(e,l,f,p){var h=n?"\n"+new Array(p+1).join(n):"",d=n?": ":":";if(f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON()),f=s.call(e,l,f),void 0!==f){if("object"!==typeof f||null===f)return r.stringify(f);if(o(f)){for(var y=[],v=0;v<f.length;v++){var b=t(f,v,f[v],p+1)||r.stringify(null);y.push(h+n+b)}return"["+y.join(",")+h+"]"}if(-1!==u.indexOf(f)){if(c)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(f);var g=i(f).sort(a&&a(f));for(y=[],v=0;v<g.length;v++){l=g[v];var _=t(f,l,f[l],p+1);if(_){var m=r.stringify(l)+d+_;y.push(h+n+m)}}return u.splice(u.indexOf(f),1),"{"+y.join(",")+h+"}"}}({"":t},"",t,0)};var o=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},i=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in t)e.call(t,r)&&n.push(r);return n}},ad6e:function(t,e,n){const r=n("cef4"),o=n("d109"),{incrementHexInt:i}=n("509d");class c extends r{constructor({provider:t,params:e}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:e}){const n=e,r=i(t),c=await o({provider:this.provider,fromBlock:r,toBlock:n}),s=c.map(t=>t.hash);this.addResults(s)}}t.exports=c},add0:function(t,e,n){"use strict";(function(t){class n{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(void 0===t)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((e,n)=>{var r=()=>{var t=!1;e(()=>{t||(t=!0,this.count++,this.sched())})};this.tasks.push(r),t&&t.nextTick?t.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(e=>t().then(t=>(e(),t)).catch(t=>{throw e(),t}))}}e.Semaphore=n;class r extends n{constructor(){super(1)}}e.Mutex=r}).call(this,n("4362"))},b047:function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},b218:function(t,e){var n=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}t.exports=r},b7b4:function(t,e,n){const r=n("cb69"),o=n("fd46"),i=n("c3dd"),c=n("da78"),{unsafeRandomBytes:s,incrementHexInt:a}=n("509d"),u=n("d109");function l({blockTracker:t,provider:e}){const n={},l=c({blockTracker:t,provider:e});let p=!1;const h=new r,d=o({eth_subscribe:i(y),eth_unsubscribe:i(v)});return d.destroy=g,{events:h,middleware:d};async function y(r,o){if(p)throw new Error("SubscriptionManager - attempting to use after destroying");const i=r.params[0],c=s(16);let h;switch(i){case"newHeads":h=d({subId:c});break;case"logs":const t=r.params[1],e=await l.newLogFilter(t);h=y({subId:c,filter:e});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${i}"`)}return n[c]=h,void(o.result=c);function d({subId:n}){const r={type:i,destroy:async()=>{t.removeListener("sync",r.update)},update:async({oldBlock:t,newBlock:r})=>{const o=r,i=a(t),c=await u({provider:e,fromBlock:i,toBlock:o}),s=c.map(f);s.forEach(t=>{b(n,t)})}};return t.on("sync",r.update),r}function y({subId:t,filter:e}){e.on("update",e=>b(t,e));const n={type:i,destroy:async()=>await l.uninstallFilter(e.idHex)};return n}}async function v(t,e){if(p)throw new Error("SubscriptionManager - attempting to use after destroying");const r=t.params[0],o=n[r];o?(delete n[r],await o.destroy(),e.result=!0):e.result=!1}function b(t,e){h.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:t,result:e}})}function g(){h.removeAllListeners();for(const t in n)n[t].destroy(),delete n[t];p=!0}}function f(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}t.exports=l},b8f4:function(t,e){var n,r,o,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(t){return i.lastIndex=0,i.test(t)?'"'+t.replace(i,(function(t){var e=c[t];return"string"===typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function a(t,e){var i,c,u,l,f,p=n,h=e[t];switch(h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(t)),"function"===typeof o&&(h=o.call(e,t,h)),typeof h){case"string":return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(n+=r,f=[],"[object Array]"===Object.prototype.toString.apply(h)){for(l=h.length,i=0;i<l;i+=1)f[i]=a(i,h)||"null";return u=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+p+"]":"["+f.join(",")+"]",n=p,u}if(o&&"object"===typeof o)for(l=o.length,i=0;i<l;i+=1)c=o[i],"string"===typeof c&&(u=a(c,h),u&&f.push(s(c)+(n?": ":":")+u));else for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(u=a(c,h),u&&f.push(s(c)+(n?": ":":")+u));return u=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+p+"}":"{"+f.join(",")+"}",n=p,u}}t.exports=function(t,e,i){var c;if(n="",r="","number"===typeof i)for(c=0;c<i;c+=1)r+=" ";else"string"===typeof i&&(r=i);if(o=e,e&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw new Error("JSON.stringify");return a("",{"":t})}},bcdf:function(t,e){function n(){}t.exports=n},c098:function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function o(t,e){var o=typeof t;return e=null==e?n:e,!!e&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}t.exports=o},c3dd:function(t,e){t.exports=function(t){return(e,n,r,o)=>{let i;const c=new Promise(t=>{i=t});let s,a;const u=async()=>{a=!0,r(t=>{s=t,i()}),await c};t(e,n,u).then(async()=>{a?(await c,s(null)):o(null)}).catch(t=>{s?s(t):o(t)})}}},cb69:function(t,e,n){const r=n("3022"),o=n("faa1");var i="object"===typeof Reflect?Reflect:null,c=i&&"function"===typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function s(){o.call(this)}function a(t,e,n){try{c(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function u(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}t.exports=s,r.inherits(s,o),s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var c=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw c.context=i,c}var s=o[t];if(void 0===s)return!1;if("function"===typeof s)a(s,this,e);else{var l=s.length,f=u(s,l);for(n=0;n<l;++n)a(f[n],this,e)}return!0}},cef4:function(t,e,n){const r=n("cb69");class o extends r{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(t=>this.emit("update",t))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}}t.exports=o},d109:function(t,e){async function n({provider:t,fromBlock:e,toBlock:n}){e||(e=n);const c=r(e),s=r(n),a=s-c+1,u=Array(a).fill().map((t,e)=>c+e).map(o),l=await Promise.all(u.map(e=>i(t,"eth_getBlockByNumber",[e,!1])));return l}function r(t){return void 0===t||null===t?t:Number.parseInt(t,16)}function o(t){if(void 0===t||null===t)return t;const e=t.toString(16);return"0x"+e}function i(t,e,n){return new Promise((r,o)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:n},(t,e)=>{if(t)return o(t);r(e.result)})})}t.exports=n},d370:function(t,e,n){var r=n("253c"),o=n("1310"),i=Object.prototype,c=i.hasOwnProperty,s=i.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(t){return o(t)&&c.call(t,"callee")&&!s.call(t,"callee")};t.exports=a},d5a1:function(t,e){t.exports=function(t){return(e,n,r,o)=>{const i=t[e.method];return void 0===i?r():"function"===typeof i?i(e,n,r,o):(n.result=i,o())}}},d89d:function(t,e){function n(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n="undefined"!==typeof t.start?t.start:Math.floor(Math.random()*e);return function(){return n%=e,n++}}t.exports=n},da78:function(t,e,n){const r=n("add0").Mutex,o=n("c3dd"),i=n("fd46"),c=n("16a1"),s=n("ad6e"),a=n("8720"),{intToHex:u,hexToInt:l}=n("509d");function f({blockTracker:t,provider:e}){let n=0,o={};const f=new r,v=d({mutex:f}),b=i({eth_newFilter:v(p(_)),eth_newBlockFilter:v(p(m)),eth_newPendingTransactionFilter:v(p(w)),eth_uninstallFilter:v(h(j)),eth_getFilterChanges:v(h(k)),eth_getFilterLogs:v(h(B))}),g=async({oldBlock:t,newBlock:e})=>{if(0===o.length)return;const n=await f.acquire();try{await Promise.all(y(o).map(async n=>{try{await n.update({oldBlock:t,newBlock:e})}catch(r){console.error(r)}}))}catch(r){console.error(r)}n()};return b.newLogFilter=_,b.newBlockFilter=m,b.newPendingTransactionFilter=w,b.uninstallFilter=j,b.getFilterChanges=k,b.getFilterLogs=B,b.destroy=()=>{T()},b;async function _(t){const n=new c({provider:e,params:t});await x(n);return n}async function m(){const t=new s({provider:e});await x(t);return t}async function w(){const t=new a({provider:e});await x(t);return t}async function k(t){const e=l(t),n=o[e];if(!n)throw new Error(`No filter for index "${e}"`);const r=n.getChangesAndClear();return r}async function B(t){const e=l(t),n=o[e];if(!n)throw new Error(`No filter for index "${e}"`);return"log"===n.type?results=n.getAllResults():results=[],results}async function j(t){const e=l(t),n=o[e],r=Boolean(n);return r&&await A(e),r}async function x(e){const r=y(o).length,i=await t.getLatestBlock();await e.initialize({currentBlock:i}),n++,o[n]=e,e.id=n,e.idHex=u(n);const c=y(o).length;return O({prevFilterCount:r,newFilterCount:c}),n}async function A(t){const e=y(o).length;delete o[t];const n=y(o).length;O({prevFilterCount:e,newFilterCount:n})}async function T(){const t=y(o).length;o={},O({prevFilterCount:t,newFilterCount:0})}function O({prevFilterCount:e,newFilterCount:n}){0===e&&n>0?t.on("sync",g):e>0&&0===n&&t.removeListener("sync",g)}}function p(t){return h(async(...e)=>{const n=await t(...e),r=u(n.id);return r})}function h(t){return o(async(e,n)=>{const r=await t.apply(null,e.params);n.result=r})}function d({mutex:t}){return e=>async(n,r,o,i)=>{const c=await t.acquire();c(),e(n,r,o,i)}}function y(t,e){const n=[];for(let r in t)n.push(t[r]);return n}t.exports=f},eac5:function(t,e){var n=Object.prototype;function r(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||n;return t===r}t.exports=r},ec69:function(t,e,n){var r=n("6fcd"),o=n("03dd"),i=n("30c9");function c(t){return i(t)?r(t):o(t)}t.exports=c},f0f8:function(t,e,n){const r=n("cef4");class o extends r{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}}t.exports=o},fd46:function(t,e,n){t.exports=n("d5a1")},feef:function(t,e,n){n("417a"),n("364d");const r=n("cb69"),o=1e3,i=(t,e)=>t+e,c=["sync","latest"];class s extends r{constructor(t={}){super(),this._blockResetDuration=t.blockResetDuration||20*o,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;const t=await new Promise(t=>this.once("latest",t));return t}removeAllListeners(t){t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t,e){c.includes(t)&&this._maybeStart()}_onRemoveListener(t,e){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return c.map(t=>this.listenerCount(t)).reduce(i)}_newPotentialLatest(t){const e=this._currentBlock;e&&a(t)<=a(e)||this._setCurrentBlock(t)}_setCurrentBlock(t){const e=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:e,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}function a(t){return Number.parseInt(t,16)}t.exports=s}}]);
//# sourceMappingURL=chunk-32a5be16.d8ec6abb.js.map