(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d0c344e"],{3746:function(e,r,t){"use strict";var n=t("42a7"),s=t.n(n),a=t("bf2b"),i=t.n(a),c=t("69f2"),o=t.n(c),u=t("1c35");const l=s()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),d=e=>u["Buffer"].from(o()("sha256").update(e).digest()),m={0:{type:"p2pkh",network:"mainnet"},111:{type:"p2pkh",network:"testnet"},5:{type:"p2sh",network:"mainnet"},196:{type:"p2sh",network:"testnet"}},p=e=>{let r;try{r=i.a.decode(e)}catch(o){return!1}const t={bc:"mainnet",tb:"testnet",bcrt:"regtest"},n=t[r.prefix];if(void 0===n)return!1;const s=r.words[0];if(s<0||s>16)return!1;const a=i.a.fromWords(r.words.slice(1));let c;return 20===a.length?c="p2wpkh":32===a.length&&(c="p2wsh"),{bech32:!0,network:n,address:e,type:c}},f=e=>{if(!e)return!1;let r;const t=e.substr(0,2);if("bc"===t||"tb"===t)return p(e);try{r=l.decode(e)}catch(o){return!1}const{length:n}=r;if(25!==n)return!1;const s=r.readUInt8(0),a=r.slice(n-4,n),i=r.slice(0,n-4),c=d(d(i)).slice(0,4);return!!a.equals(c)&&(!!m[s]&&Object.assign({address:e,bech32:!1},m[s]))},h=(e,r)=>{const t=f(e);return!!t&&(r?t.network===r:t)};r["a"]=h},"44bd":function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"rengateway"},[t("div",{staticClass:"exchange"},[t("div",{staticClass:"exchangefields"},[t("div",{staticClass:"flexbreak"}),t("fieldset",{staticClass:"item"},[t("legend",[e._v("From:")]),t("div",{staticClass:"maxbalance",on:{click:e.set_max_balance}},[e._v(" Max: "),t("span",{directives:[{name:"show",rawName:"v-show",value:"sbtc"==e.currentPool&&2==e.from_currency,expression:"currentPool == 'sbtc' && from_currency == 2"}]},[e._v(" "+e._s(e.maxSynthText)+"/ ")]),t("span",[e._v(e._s(e.maxBalanceText))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.susdWaitingPeriod,expression:"susdWaitingPeriod"}],staticClass:"susd-waiting-period"},[e._m(0)]),t("span",{directives:[{name:"show",rawName:"v-show",value:"sbtc"==e.currentPool&&2==e.from_currency,expression:"currentPool == 'sbtc' && from_currency == 2"}],staticClass:"tooltip"},[e._v(" [?] "),t("span",{staticClass:"tooltiptext long"},[e._v(" Max transferrable amount is "+e._s(e.maxSynthText)+". You can free the remaining balance by settling. ")])])]),t("ul",[t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromInput,expression:"fromInput"}],style:{backgroundColor:e.fromBgColor},attrs:{type:"text",id:"from_currency",disabled:e.disabled,name:"from_currency",value:"0.00"},domProps:{value:e.fromInput},on:{input:[function(r){r.target.composing||(e.fromInput=r.target.value)},e.set_to_amount]}}),t("p",{directives:[{name:"show",rawName:"v-show",value:["sbtc","ren"].includes(e.currentPool),expression:"['sbtc', 'ren'].includes(currentPool)"}],staticClass:"actualvalue"},[e._v(" ≈ "+e._s(e.actualFromValue)+"$ ")])]),e._l(Object.keys(e.currencies),(function(r,n){var s;return t("li",{staticClass:"coins"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.from_currency,expression:"from_currency"}],attrs:{type:"radio",id:"from_cur_"+n,name:"from_cur"},domProps:{value:n,checked:e._q(e.from_currency,n)},on:{change:function(r){e.from_currency=n}}}),t("label",{attrs:{for:"from_cur_"+n}},[t("img",{class:(s={"token-icon":!0},s[r+"-icon"]=!0,s),attrs:{src:e.getTokenIcon(r)}}),t("span",[e._v(e._s(e._f("capitalize")(r)))])])])})),t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.from_currency&&e.amountAfterBTC>=0,expression:"from_currency == 0 && amountAfterBTC >= 0"}],staticClass:"amount-after-fees"},[e._v(" Amount after renVM fees: "+e._s(e.amountAfterBTC)+" ")])],2)]),t("fieldset",{staticClass:"item iconcontainer",on:{click:e.swapInputs}},[t("img",{attrs:{src:e.publicPath+"exchange-alt-solid.svg",id:"exchangeicon"}})]),t("fieldset",{staticClass:"item"},[t("legend",[e._v("To:")]),e._m(1),t("ul",[t("li",[t("input",{style:{backgroundColor:e.bgColor},attrs:{type:"text",id:"to_currency",name:"to_currency",value:"0.00",disabled:""},domProps:{value:e.toInputFormat}}),t("p",{directives:[{name:"show",rawName:"v-show",value:["ren","sbtc"].includes(e.currentPool),expression:"['ren', 'sbtc'].includes(currentPool)"}],staticClass:"actualvalue"},[e._v(" ≈ "+e._s(e.actualToValue)+"$ ")])]),e._l(Object.keys(e.currencies),(function(r,n){var s;return t("li",{staticClass:"coins"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.to_currency,expression:"to_currency"}],attrs:{type:"radio",id:"to_cur_"+n,name:"to_cur"},domProps:{value:n,checked:e._q(e.to_currency,n)},on:{change:function(r){e.to_currency=n}}}),t("label",{attrs:{for:"to_cur_"+n}},[t("img",{class:(s={"token-icon":!0},s[r+"-icon"]=!0,s),attrs:{src:e.getTokenIcon(r)}}),t("span",[e._v(e._s(e._f("capitalize")(r)))])])])})),t("div",{directives:[{name:"show",rawName:"v-show",value:[1,2].includes(e.from_currency)&&0==e.to_currency&&e.toInputOriginal>=0,expression:"[1,2].includes(from_currency) && to_currency == 0 && toInputOriginal >= 0"}],staticClass:"amount-after-fees"},[e._v(" Amount before renVM fees: "+e._s(e.toInputOriginal.toFixed(8))+" ")])],2)])]),t("p",{directives:[{name:"show",rawName:"v-show",value:!([1,2].includes(this.from_currency)&&[1,2].includes(this.to_currency)),expression:"!([1,2].includes(this.from_currency) && [1,2].includes(this.to_currency))"}],staticClass:"exchange-rate"},[e._v("Exchange rate (including fees and renVM fee): "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.lessThanMinOrder,expression:"!lessThanMinOrder"}],attrs:{id:"exchange-rate"}},[e._v(e._s(e.exchangeRate&&e.exchangeRate.toFixed(4)))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.lessThanMinOrder,expression:"lessThanMinOrder"}]},[e._v("N/A")])]),t("p",{staticClass:"exchange-rate"},[e._v("Exchange rate (including fees): "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.lessThanMinOrder,expression:"!lessThanMinOrder"}],attrs:{id:"exchange-rate"}},[e._v(e._s(e.exchangeRateOriginal&&e.exchangeRateOriginal.toFixed(4)))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.lessThanMinOrder,expression:"lessThanMinOrder"}]},[e._v("N/A")])]),t("div",{attrs:{id:"max_slippage"}},[t("span",[e._v("Max slippage:")]),t("input",{attrs:{id:"slippage05",type:"radio",name:"slippage",value:"0.005"},on:{click:function(r){e.maxSlippage=.5,e.customSlippageDisabled=!0}}}),t("label",{attrs:{for:"slippage05"}},[e._v("0.5%")]),t("input",{attrs:{id:"slippage1",type:"radio",name:"slippage",checked:"",value:"0.01"},on:{click:function(r){e.maxSlippage=1,e.customSlippageDisabled=!0}}}),t("label",{attrs:{for:"slippage1"}},[e._v("1%")]),t("input",{attrs:{id:"custom_slippage",type:"radio",name:"slippage",value:"-"},on:{click:function(r){e.customippageDisabled=!1}}}),t("label",{attrs:{for:"custom_slippage"},on:{click:function(r){e.customSlippageDisabled=!1}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.maxInputSlippage,expression:"maxInputSlippage"}],attrs:{type:"text",id:"custom_slippage_input",disabled:e.customSlippageDisabled,name:"custom_slippage_input"},domProps:{value:e.maxInputSlippage},on:{input:function(r){r.target.composing||(e.maxInputSlippage=r.target.value)}}}),e._v(" % ")])]),t("gas-price"),t("p",{directives:[{name:"show",rawName:"v-show",value:e.lessThanMinOrder&&0==e.from_currency,expression:"lessThanMinOrder && from_currency == 0"}],staticClass:"simple-error"},[e._v(" Minimum mint order size is "+e._s((e.minOrderSize/1e8).toFixed(8))+" ")]),t("p",{directives:[{name:"show",rawName:"v-show",value:e.lessThanMinOrder&&1==e.from_currency,expression:"lessThanMinOrder && from_currency == 1"}],staticClass:"simple-error"},[e._v(" Minimum burn order size is "+e._s((e.minOrderSize/1e8+547e-8).toFixed(8))+" ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:0==this.from_currency&&[1,2].includes(this.to_currency)||[1,2].includes(this.from_currency)&&0==this.to_currency,expression:"this.from_currency == 0 && [1,2].includes(this.to_currency) || [1,2].includes(this.from_currency) && this.to_currency == 0"}],staticClass:"input address"},[t("label",{directives:[{name:"show",rawName:"v-show",value:[1,2].includes(this.from_currency)&&0==this.to_currency,expression:"[1,2].includes(this.from_currency) && this.to_currency == 0"}],attrs:{for:"address"}},[e._v("BTC withdrawal address")]),t("label",{directives:[{name:"show",rawName:"v-show",value:0==this.from_currency&&[1,2].includes(this.to_currency),expression:"this.from_currency == 0 && [1,2].includes(this.to_currency)"}],attrs:{for:"address"}},[e._v("ETH address")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],style:e.addressStyle,attrs:{id:"address",type:"text",placeholder:"Address"},domProps:{value:e.address},on:{input:function(r){r.target.composing||(e.address=r.target.value)}}})]),t("ul",{staticClass:"infiniteapproval"},[t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inf_approval,expression:"inf_approval"}],attrs:{id:"inf-approval",type:"checkbox",name:"inf-approval"},domProps:{checked:Array.isArray(e.inf_approval)?e._i(e.inf_approval,null)>-1:e.inf_approval},on:{change:function(r){var t=e.inf_approval,n=r.target,s=!!n.checked;if(Array.isArray(t)){var a=null,i=e._i(t,a);n.checked?i<0&&(e.inf_approval=t.concat([a])):i>-1&&(e.inf_approval=t.slice(0,i).concat(t.slice(i+1)))}else e.inf_approval=s}}}),e._m(2)])])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.susdWaitingPeriod,expression:"susdWaitingPeriod"}],staticClass:"simple-error pulse"},[e._v(" Cannot transfer sBTC during waiting period ")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.estimateGas,expression:"estimateGas"}],staticClass:"info-message gentle-message"},[e._v(" Estimated tx cost: "+e._s((e.estimateGas*e.gasPrice/1e9*e.ethPrice).toFixed(2))+"$ ")]),t("approve-chi"),t("p",{directives:[{name:"show",rawName:"v-show",value:e.address&&!e.checkAddress,expression:"address && !checkAddress"}],staticClass:"simple-error"},[e._v(" Invalid "+e._s(0==e.from_currency?"ETH":"BTC")+" address ")]),t("button",{staticClass:"swap",attrs:{disabled:e.swapDisabled},on:{click:e.submit}},[e._v("Swap")]),t("tx-table")],1)},s=[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("span",{staticClass:"tooltip"},[n("img",{staticClass:"icon small",attrs:{src:t("0b7b")}}),n("span",{staticClass:"tooltiptext"},[e._v(" Cannot transfer during waiting period ")])])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"maxbalance2"},[e._v("Max: "),t("span")])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("label",{attrs:{for:"inf-approval"}},[e._v("Infinite approval - trust this contract forever "),t("span",{staticClass:"tooltip"},[e._v("[?] "),t("span",{staticClass:"tooltiptext long"},[e._v(" Preapprove the contract to to be able to spend any amount of your coins. You will not need to approve again. ")])])])}],a=(t("caad"),t("d81d"),t("b680"),t("d3b7"),t("25f0"),t("3ca3"),t("ddb0"),t("3835")),i=(t("96cf"),t("1da1")),c=t("d99e"),o=t("51bf"),u=(t("053a"),t("901e")),l=t.n(u),d=t("2fa3"),m=t("cf45"),p=t("5245"),f=(t("5ce4"),t("1079")),h=t("757b"),_=t("2bd5"),v=t("5e35"),b=t("0a37"),g=t("e7e9"),x=t("0c7c"),y=t("cbc1"),w=t("3746"),I={components:{"tx-table":f["a"],"approve-chi":y["a"],GasPrice:g["a"]},data:function(){return{toInput:"0.00",toInputOriginal:0,address:"",confirmations:6,box:null,showModal:!1,qrValue:null,maxBalance:0,maxSynthBalance:-1,susdWaitingPeriod:!1,disabled:!1,fromInput:"0.001",from_currency:0,to_currency:1,btcPrice:null,ethPrice:null,customGasDisabled:!0,customGasInput:null,estimateGas:null,get_dy_original:"",fromBgColor:"",bgColor:"",maxSlippage:1,maxInputSlippage:"",customSlippageDisabled:!0,swapwrapped:!1,copied:!1,inf_approval:!1,promise:d["l"](Promise.resolve())}},computed:{swapDisabled:function(){return this.lessThanMinOrder||[1,2].includes(this.from_currency)&&0==this.to_currency&&!this.address||!this.checkAddress},maxBalanceText:function(){return 0==this.from_currency?"N/A":l()(this.maxBalance).div(this.fromPrecisions).toFixed(8)},maxSynthText:function(){return this.toFixed(l()(this.maxSynthBalance).div(1e18))},exchangeRate:function(){return 1==this.from_currency?this.amountAfterWBTC/this.fromInput:this.toInput/this.fromInput},exchangeRateOriginal:function(){return this.toInputOriginal/this.fromInput},amountAfterBTC:function(){return l()(this.fromInput).times(1e8).times(1-_["b"].mintFee/1e4).minus(_["b"].minersLockFee).div(1e8).toFixed(8)},amountAfterWBTC:function(){return l()(this.toInputOriginal).times(1e8).times(1-_["b"].burnFee/1e4).minus(_["b"].minersReleaseFee).div(1e8).toFixed(8)},minOrderSize:function(){return _["b"].minersReleaseFee+_["b"].burnFee/1e4+1100},lessThanMinOrder:function(){return(![1,2].includes(this.from_currency)||![1,2].includes(this.to_currency))&&(0==this.from_currency&&this.amountAfterBTC<0||(1==this.from_currency&&1e8*this.fromInput*(1-_["b"].burnFee/1e4)<_["b"].minersReleaseFee+500||void 0))},toInputFormat:function(){return this.toInput&&"string"!=typeof this.toInput?[1,2].includes(this.from_currency)&&[1,2].includes(this.to_currency)?+this.toInputOriginal.toFixed(8):+this.toInput.toFixed(8):"0.00"},addressStyle:function(){return 0==this.from_currency?{background:"#505070",color:"#d0d0d0"}:{}},actualFromValue:function(){return(this.fromInput*this.btcPrice).toFixed(2)},actualToValue:function(){return(this.toInput*this.btcPrice).toFixed(2)},publicPath:function(){return"/"},currencies:function(){return"ren"==o["b"].currentContract?{btc:"BTC",wbtc:"WBTC"}:"sbtc"==o["b"].currentContract?{btc:"BTC",wbtc:"wBTC",sbtc:"sBTC"}:void 0},fromPrecisions:function(){return p["f"][o["b"].currentContract].coin_precisions[this.from_currency]},toPrecisions:function(){return p["f"][o["b"].currentContract].coin_precisions[this.to_currency]},currentPool:function(){return o["d"].currentPool()},gasPrice:function(){return b["a"].gasPrice},gasPriceWei:function(){return b["a"].gasPriceWei},checkAddress:function(){return 0==this.from_currency&&[1,2].includes(this.to_currency)?o["b"].web3.utils.isAddress(this.address):!1!==Object(w["a"])(this.address)}},watch:{from_currency:function(e,r){e==this.to_currency&&(this.to_currency=r),0==this.from_currency&&(this.fromBgColor="blue"),this.from_cur_handler()},to_currency:function(e,r){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e==t.from_currency&&(0==t.to_currency?t.from_currency=1:t.from_currency=0),r.next=3,t.from_cur_handler();case 3:case"end":return r.stop()}}),r)})))()}},created:function(){var e=this;this.$watch((function(){return o["b"].initializedContracts&&_["b"].loaded}),(function(r){r&&e.mounted()}))},mounted:function(){var e=this;this.$emit("loaded");var r=document.querySelector("#modal");window.addEventListener("click",(function(){event.target==r&&(e.showModal=!1)})),o["b"].initializedContracts&&_["b"].loaded&&this.mounted()},methods:{mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,v["a"]();case 2:e.btcPrice=r.sent,[1,2].includes(e.from_currency)&&(e.address=o["b"].default_account),e.from_cur_handler();case 5:case"end":return r.stop()}}),r)})))()},toFixed:function(e){return""==e||void 0==e||0==e?"0.00":(l.a.isBigNumber(e)||(e=+e),["tbtc","ren","sbtc"].includes(o["b"].currentContract)?e.toFixed(8):e.toFixed(2))},set_max_balance:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!=e.from_currency){r.next=3;break}return e.fromInput=0,r.abrupt("return");case 3:t=l()(e.maxBalance).div(e.fromPrecisions).toFixed(8),"sbtc"==e.currentPool&&2==e.from_currency&&(t=l()(e.maxSynthBalance).div(1e18).toString()),e.fromInput=t,e.set_to_amount();case 7:case"end":return r.stop()}}),r)})))()},getTokenIcon:function(e){return d["j"](e,this.swapwrapped,this.currentPool)},set_to_amount:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t,n,s,i,c,u,m,p,f,h,v,b,g,x;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.highlight_input(),t=e.from_currency,n=e.to_currency,s=l()(e.fromInput).times(e.fromPrecisions).toFixed(0,1),s,i=0==t?_["b"].minersLockFee:_["b"].minersReleaseFee,c=0==t?_["b"].mintFee:_["b"].burnFee,c=1-c/1e4,s=l()(e.fromInput).times(e.fromPrecisions).times(c).minus(i).toFixed(0,1),!e.lessThanMinOrder){r.next=12;break}return e.toInput=0,r.abrupt("return");case 12:return u=o["b"].swap.methods.get_dy(t,n,l()(e.fromInput).times(e.fromPrecisions).toFixed(0,1)).encodeABI(),m=[u],0==e.from_currency&&m.push(o["b"].swap.methods.get_dy(t,n,l()(e.amountAfterBTC).times(e.fromPrecisions).toFixed(0,1)).encodeABI()),e.promise.cancel(),p=m.map((function(e){return[o["b"].swap._address,e]})),f=o["b"].multicall.methods.aggregate(p).call(),e.promise=d["l"](f),r.prev=19,r.next=22,f;case 22:h=r.sent,h=h[1].map((function(e){return o["b"].web3.eth.abi.decodeParameter("uint256",e)})),0==e.from_currency?(v=h.map((function(r){return r/e.toPrecisions})),b=Object(a["a"])(v,2),g=b[0],x=b[1],e.toInput=x,e.toInputOriginal=g):(e.toInput=(h-i)*c/e.toPrecisions,e.toInputOriginal=h/e.toPrecisions),r.next=30;break;case 27:r.prev=27,r.t0=r["catch"](19),console.error(r.t0);case 30:case"end":return r.stop()}}),r,null,[[19,27]])})))()},highlight_input:function(){0!=this.from_currency&&(this.fromInput>this.maxBalance/this.fromPrecisions?this.fromBgColor="red":this.fromBgColor="blue")},swapInputs:function(){var e=[this.toInput,this.fromInput];this.fromInput=e[0],this.toInput=e[1],this.from_currency=this.to_currency,this.from_cur_handler()},from_cur_handler:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.address="",0==e.from_currency&&(e.address=o["b"].default_account),r.t0=l.a,r.next=5,o["b"].coins[e.from_currency].methods.allowance(o["b"].default_account,p["f"][o["b"].currentContract].adapterBiconomyAddress).call();case 5:return r.t1=r.sent,t=(0,r.t0)(r.t1),n=o["b"].max_allowance.div(l()(2)),t.gt(n)?e.inf_approval=!0:e.inf_approval=!1,r.next=11,e.setMaxBalance();case 11:return r.next=13,e.set_to_amount();case 13:case"end":return r.stop()}}),r)})))()},setMaxBalance:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t,n,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!=e.from_currency){r.next=2;break}return r.abrupt("return");case 2:return t=[[o["b"].coins[e.from_currency]._address,o["b"].coins[e.from_currency].methods.balanceOf(o["b"].default_account).encodeABI()]],"sbtc"==e.currentPool&&2==e.from_currency&&t.push([o["b"].coins[e.from_currency]._address,o["b"].coins[e.from_currency].methods.transferableSynths(o["b"].default_account).encodeABI()],[o["b"].snxExchanger._address,o["b"].snxExchanger.methods.maxSecsLeftInWaitingPeriod(o["b"].default_account,"0x7342544300000000000000000000000000000000000000000000000000000000").encodeABI()]),r.next=6,o["b"].multicall.methods.aggregate(t).call();case 6:n=r.sent,s=n[1].map((function(e){return o["b"].web3.eth.abi.decodeParameter("uint256",e)})),a=+s[0],"sbtc"==e.currentPool&&2==e.from_currency&&(e.maxSynthBalance=+s[1],e.susdWaitingPeriod=+s[2],e.susdWaitingPeriod=+e.susdWaitingPeriod>0,e.susdWaitingPeriod&&(a=0)),e.maxBalance=o["b"].default_account?a:0;case 11:case"end":return r.stop()}}),r)})))()},submit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t,n,s,a,i,u,p,f;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Promise.all([d["i"]()]);case 2:if(t=r.sent,e.ethPrice=t[0],e.estimateGas="ren"==o["b"].currentContract?3e5:4e5,n=e.maxSlippage,e.maxInputSlippage&&(n=e.maxInputSlippage),0!=e.from_currency||![1,2].includes(e.to_currency)){r.next=13;break}e.toInput*(1-n),h["d"]({from_currency:e.from_currency,to_currency:e.to_currency,amountAfterBTC:e.amountAfterBTC,address:e.address,fromInput:e.fromInput,toInput:e.toInput,slippage:10*n}),null!==document.querySelector(".showdesktoptransactions").offsetParent?(s=document.querySelector("tbody tr td:first-child"),!d["k"](s)&&s.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})):(a=document.querySelector(".transactionmobile"),!d["k"](a)&&a.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})),r.next=44;break;case 13:if(![1,2].includes(e.from_currency)||0!=e.to_currency){r.next=17;break}h["a"]({address:e.address,fromInput:e.fromInput,from_currency:e.from_currency,toInputOriginal:l()(e.toInputOriginal).times(e.toPrecisions),inf_approval:e.inf_approval}),r.next=44;break;case 17:if(i=l()(e.fromInput).times(e.fromPrecisions).toFixed(0,1),u=e.from_currency,p=e.to_currency,r.prev=20,!e.inf_approval){r.next=26;break}return r.next=24,m["ensure_underlying_allowance"](u,o["b"].max_allowance,[],void 0,!1);case 24:r.next=28;break;case 26:return r.next=28,m["ensure_underlying_allowance"](u,i,[],void 0,!1);case 28:r.next=34;break;case 30:throw r.prev=30,r.t0=r["catch"](20),console.error(r.t0),r.t0;case 34:return f=l()(e.toInputOriginal).times(e.toPrecisions).times(1-n/100).toFixed(0,1),r.prev=35,r.next=38,o["b"].swap.methods.exchange(u,p,i,f).send({from:o["b"].default_account,gasPrice:e.gasPriceWei,gas:o["c"].swap[o["b"].currentContract].exchange(u,p)}).once("transactionHash",(function(e){Object(c["c"])(e)}));case 38:r.next=44;break;case 40:r.prev=40,r.t1=r["catch"](35),console.error(r.t1),x["a"](r.t1);case 44:case"end":return r.stop()}}),r,null,[[20,30],[35,40]])})))()}}},C=I,P=(t("c23a"),t("2877")),k=Object(P["a"])(C,n,s,!1,null,"5c6f8037",null);r["default"]=k.exports},c23a:function(e,r,t){"use strict";var n=t("d8b2"),s=t.n(n);s.a},d8b2:function(e,r,t){}}]);
//# sourceMappingURL=chunk-0d0c344e.5463f236.js.map