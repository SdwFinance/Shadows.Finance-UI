(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21e59e28"],{"0ac0":function(e,t,a){"use strict";var n=a("bd9c"),s=a.n(n);s.a},"294a":function(e,t,a){"use strict";var n=a("76e6"),s=a.n(n);s.a},"76e6":function(e,t,a){},bd9c:function(e,t,a){},d8ef:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"window white"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.swapbtc,expression:"swapbtc"}],staticClass:"info-message gentle-message betaversion"},[e._v(" This is a beta version. Please test with small amounts and use with caution. ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:["ren","sbtc"].includes(e.currentPool),expression:"['ren', 'sbtc'].includes(currentPool)"}],staticClass:"swapBTC-container info-message gentle-message"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.swapbtc,expression:"swapbtc"}],attrs:{id:"swapbtc",type:"checkbox",value:"swapbtc"},domProps:{checked:Array.isArray(e.swapbtc)?e._i(e.swapbtc,"swapbtc")>-1:e.swapbtc},on:{change:function(t){var a=e.swapbtc,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r="swapbtc",i=e._i(a,r);n.checked?i<0&&(e.swapbtc=a.concat([r])):i>-1&&(e.swapbtc=a.slice(0,i).concat(a.slice(i+1)))}else e.swapbtc=s}}}),a("label",{attrs:{for:"swapbtc"}},[e._v("Withdraw "),a("img",{staticClass:"token-icon vamiddle",attrs:{src:e.publicPath+"tokens/btc.svg"}}),a("a",{attrs:{href:"https://guides.curve.fi/how-to-swap-bitcoin-for-wbtc-or-renbtc/",rel:"noopener norefferer"}},[e._v("[?]")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.hasIncomplete>0&&0==e.swapbtc,expression:"hasIncomplete > 0 && swapbtc == false"}]},[e._v(" ("+e._s(e.hasIncomplete)+" incomplete tx) ")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading line"})]),e.swapbtc?a("withdraw-native",{on:{loaded:e.loaded}}):e._e(),!e.swapbtc||e.swapbtc&&!e.loaded?a("withdraw"):e._e()],1)},s=[],r=(a("caad"),a("d3b7"),a("2532"),a("51bf")),i=a("2bd5"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-liquidity"},[a("div",{staticClass:"percentage-section"},[a("div",{staticClass:"title"},[e._v(" Share of liquidity (%) "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.showstaked,expression:"showstaked"}],attrs:{id:"showstaked",type:"checkbox",name:"showstaked"},domProps:{checked:Array.isArray(e.showstaked)?e._i(e.showstaked,null)>-1:e.showstaked},on:{change:function(t){var a=e.showstaked,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&(e.showstaked=a.concat([r])):i>-1&&(e.showstaked=a.slice(0,i).concat(a.slice(i+1)))}else e.showstaked=s}}}),a("label",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc","y","iearn"].includes(e.currentPool),expression:"['susdv2', 'sbtc', 'y', 'iearn'].includes(currentPool)"}],attrs:{for:"showstaked"}},[e._v(" Show staked ")])])]),a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.share,expression:"share"}],style:e.shareStyles,attrs:{type:"text",id:"liquidity-share",name:"liquidity-share"},domProps:{value:e.share},on:{input:[function(t){t.target.composing||(e.share=t.target.value)},e.handle_change_share],focus:e.handle_change_share}})])])]),a("div",{staticClass:"currencies-section"},[a("label",[e._v("Currencies:")]),a("ul",[e._l(Object.keys(e.currencies),(function(t,n){var s;return a("li",[a("label",{staticClass:"currency_label",attrs:{for:"currency_"+n}},[a("img",{class:(s={"token-icon":!0},s[t+"-icon"]=!0,s["y"]=e.withdrawc,s[e.currentPool]=!0,s),attrs:{src:e.getTokenIcon(t)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.withdrawc,expression:"withdrawc"}],staticClass:"token-name"},[e._v(e._s(e.currencies[t])+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!("usdt"==t&&"usdt"==e.currentPool)&&!["susdv2","ren","sbtc"].includes(e.currentPool),expression:"!(currency == 'usdt' && currentPool == 'usdt') && !['susdv2', 'ren', 'sbtc'].includes(currentPool)"}]},[e._v("(in "+e._s(e._f("capitalize")(t))+")")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.withdrawc&&!["susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!withdrawc && !['susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentPool)"}]},[e._v(e._s(e._f("capitalize")(t)))]),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.withdrawc&&["susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!withdrawc && ['susdv2', 'tbtc', 'ren', 'sbtc'].includes(currentPool)"}]},[e._v(e._s(e.currencies[t]))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputs[n],expression:"inputs[i]"}],ref:"inputs"+n,refInFor:!0,style:e.inputStyles[n],attrs:{type:"text",id:"currency_"+n,name:"from_cur",disabled:"susd"==e.currentPool},domProps:{value:e.inputs[n]},on:{input:[function(t){t.target.composing||e.$set(e.inputs,n,t.target.value)},function(t){return e.handle_change_amounts(n)}],focus:function(t){return e.handle_change_amounts(n)}}})])})),a("li",{directives:[{name:"show",rawName:"v-show",value:!["susd","susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!['susd','susdv2','tbtc','ren', 'sbtc'].includes(currentPool)"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.withdrawc,expression:"withdrawc"}],attrs:{id:"withdrawc",type:"checkbox",name:"withdrawc"},domProps:{checked:Array.isArray(e.withdrawc)?e._i(e.withdrawc,null)>-1:e.withdrawc},on:{change:function(t){var a=e.withdrawc,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&(e.withdrawc=a.concat([r])):i>-1&&(e.withdrawc=a.slice(0,i).concat(a.slice(i+1)))}else e.withdrawc=s}}}),a("label",{attrs:{for:"withdrawc"}},[e._v("Withdraw wrapped")])])],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"susd"!=e.currentPool,expression:"currentPool != 'susd'"}],staticClass:"withdraw-coins-section"},[e._m(0),a("ul",{staticClass:"withdraw-coins"},[a("li",{directives:[{name:"show",rawName:"v-show",value:!["susdv2","tbtc","ren","sbtc"].includes(e.currentPool),expression:"!['susdv2','tbtc','ren', 'sbtc'].includes(currentPool)"}]},[a("input",{attrs:{type:"radio",id:"to_cur_comb",name:"to_cur"},domProps:{value:10,checked:10===e.to_currency},on:{click:function(t){return e.handleCheck(10)}}}),a("label",{attrs:{for:"to_cur_comb"}},[e._v(" Combination of all coins "),e._l(Object.keys(e.currencies),(function(t,n){var s;return a("span",[a("span",{directives:[{name:"show",rawName:"v-show",value:n>0,expression:"i > 0"}]},[e._v("+")]),a("img",{class:(s={"token-icon":!0},s[t+"-icon"]=!0,s["y"]=e.withdrawc,s[e.currentPool]=!0,s),attrs:{src:e.getTokenIcon(t)}})])}))],2)]),e._l(Object.keys(e.currencies),(function(t,n){var s;return a("li",{staticClass:"withdrawin"},[a("input",{attrs:{type:"radio",id:"to_cur_"+n,name:"to_cur"},domProps:{value:n,checked:e.to_currency===n},on:{click:function(t){return e.handleCheck(n)}}}),a("label",{attrs:{for:"to_cur_"+n}},[a("img",{class:(s={"token-icon":!0},s[t+"-icon"]=!0,s["y"]=e.withdrawc,s[e.currentPool]=!0,s),attrs:{src:e.getTokenIcon(t)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.withdrawc,expression:"!withdrawc"}]},[e._v(" "+e._s(e._f("capitalize")(t))+" ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.withdrawc,expression:"withdrawc"}]},[e._v(" "+e._s(e.currencies[t])+" ")])])])})),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.donate_dust,expression:"donate_dust"}],attrs:{type:"checkbox",id:"donate_dust",name:"donate_dust"},domProps:{checked:Array.isArray(e.donate_dust)?e._i(e.donate_dust,null)>-1:e.donate_dust},on:{change:function(t){var a=e.donate_dust,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&(e.donate_dust=a.concat([r])):i>-1&&(e.donate_dust=a.slice(0,i).concat(a.slice(i+1)))}else e.donate_dust=s}}}),a("label",{directives:[{name:"show",rawName:"v-show",value:!["tbtc","ren","sbtc"].includes(e.currentPool),expression:"!['tbtc', 'ren', 'sbtc'].includes(currentPool)"}],attrs:{for:"donate_dust"}},[e._v("Donate dust "),e._m(1)])])],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showWithdrawSlippage,expression:"showWithdrawSlippage"}],staticClass:"max-slippage-section"},[a("div",{staticClass:"max-slippage"},[a("h2",[e._v("Max slippage:")]),a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage02",type:"radio",name:"slippage",value:"0.2"},domProps:{checked:e._q(e.maxSlippage,"0.2")},on:{change:function(t){e.maxSlippage="0.2"}}}),a("label",{attrs:{for:"slippage02"}},[e._v("0.2%")])]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSlippage,expression:"maxSlippage"}],attrs:{id:"slippage1",type:"radio",name:"slippage",checked:"",value:"3"},domProps:{checked:e._q(e.maxSlippage,"3")},on:{change:function(t){e.maxSlippage="3"}}}),a("label",{attrs:{for:"slippage1"}},[e._v("3%")])]),a("li",[a("input",{attrs:{id:"custom_slippage",type:"radio",name:"slippage",value:"-"},on:{click:function(t){e.customippageDisabled=!1}}}),a("label",{attrs:{for:"custom_slippage"},on:{click:function(t){e.customSlippageDisabled=!1}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxInputSlippage,expression:"maxInputSlippage"}],attrs:{type:"text",id:"custom_slippage_input",disabled:e.customSlippageDisabled,name:"custom_slippage_input"},domProps:{value:e.maxInputSlippage},on:{input:function(t){t.target.composing||(e.maxInputSlippage=t.target.value)}}}),e._v(" % ")])])])])]),a("div",{staticClass:"gas-price-section"},[a("gas-price")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],staticClass:"modal",attrs:{id:"modal"},on:{click:function(t){if(t.target!==t.currentTarget)return null;e.showModal=!1}}},[a("div",{staticClass:"modal-content window white"},[a("fieldset",[a("div",{staticClass:"legend2 hoverpointer",on:{click:function(t){e.showModal=!1}}},[e._v(" ["),a("span",{staticClass:"greentext"},[e._v("â– ")]),e._v("] ")]),a("legend",[e._v("CONFIRM")]),a("div",{staticClass:"modaltext"},[e._v(" Confirm "),a("span",{staticClass:"warningtext"},[e._v("burning")]),e._v(" "+e._s((e.pendingSNXRewards/1e18).toFixed(2))+" YFI for "+e._s((e.withdrawADAI/1e18).toFixed(2))+" aDAI ")]),a("button",{on:{click:function(t){e.showModal=!1,e.claimYFIaDAI()}}},[e._v(" Confirm ")]),a("button",{staticClass:"buttoncancel",on:{click:function(t){e.showModal=!1}}},[e._v("Cancel")])])])]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.showInfApprovalZap,expression:"showInfApprovalZap"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inf_approval,expression:"inf_approval"}],attrs:{id:"inf_approval",type:"checkbox"},domProps:{checked:Array.isArray(e.inf_approval)?e._i(e.inf_approval,null)>-1:e.inf_approval},on:{change:function(t){var a=e.inf_approval,n=t.target,s=!!n.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);n.checked?i<0&&(e.inf_approval=a.concat([r])):i>-1&&(e.inf_approval=a.slice(0,i).concat(a.slice(i+1)))}else e.inf_approval=s}}}),a("label",{attrs:{for:"inf_approval"}},[e._v("Infinite approval - trust zap contract forever")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.nobalance,expression:"nobalance"}],staticClass:"info-message gentle-message amount-warning"},[e._v(" You don't have any available amount to withdraw ")]),a("div",{staticClass:"trade-buttons",attrs:{id:"withdraw_buttons"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:"susd"!=e.currentPool,expression:"currentPool != 'susd'"}],attrs:{id:"remove-liquidity",disabled:["susdv2","sbtc"].includes(e.currentPool)&&e.slippage<-.03&&!e.warninglow||1==e.show_nobalance},on:{click:function(t){return e.handle_remove_liquidity()}}},[e._v(" Withdraw "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.loadingAction,expression:"loadingAction == 1"}],staticClass:"loading line"})]),a("router-link",{directives:[{name:"show",rawName:"v-show",value:["susdv2"].includes(e.currentPool)&&e.oldBalance>0,expression:"['susdv2'].includes(currentPool) && oldBalance > 0"}],staticClass:"button",attrs:{to:"/susd/withdraw",id:"withdrawold"}},[e._v("Withdraw old")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"usdt"==e.currentPool,expression:"currentPool == 'usdt'"}],on:{click:e.migrateUSDT}},[e._v("Migrate to PAX")]),a("button",{directives:[{name:"show",rawName:"v-show",value:"susd"==e.currentPool,expression:"currentPool == 'susd'"}],attrs:{id:"remove-liquidity"},on:{click:e.handle_remove_liquidity}},[e._v("Withdraw old")]),a("p",{directives:[{name:"show",rawName:"v-show",value:["ren","sbtc"].includes(e.currentPool),expression:"['ren', 'sbtc'].includes(currentPool)"}]},[a("a",{attrs:{href:"https://bridge.renproject.io/"}},[e._v(" Mint/redeem renBTC ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(e.currentPool),expression:"['susdv2', 'sbtc'].includes(currentPool)"}],attrs:{id:"mintr"}},[a("a",{directives:[{name:"show",rawName:"v-show",value:["susdv2","sbtc"].includes(e.currentPool),expression:"['susdv2', 'sbtc'].includes(currentPool)"}],attrs:{href:"https://mintr.synthetix.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Manage staking in Mintr")]),a("a",{directives:[{name:"show",rawName:"v-show",value:["y","iearn"].includes(e.currentPool),expression:"['y', 'iearn'].includes(currentPool)"}],attrs:{href:"https://ygov.finance/",target:"_blank",rel:"noopener noreferrer"}},[e._v(" yGov. ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show_loading,expression:"show_loading"}],staticClass:"info-message gentle-message"},[a("span",{domProps:{innerHTML:e._s(e.waitingMessage)}}),e._v(" "),a("span",{staticClass:"loading line"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.estimateGas,expression:"estimateGas"}],staticClass:"info-message gentle-message"},[e._v(" Estimated tx cost: "+e._s((e.estimateGas*e.gasPrice/1e9*e.ethPrice).toFixed(2))+"$ ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.warninglow,expression:"warninglow"}],staticClass:"simple-error"},[e._v(" You're withdrawing too little amount in one coin ")]),a("Slippage",e._b({},"Slippage",{show_nobalance:e.show_nobalance,show_nobalance_i:e.show_nobalance_i},!1))],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.staked_balance>0&&["susdv2","sbtc","y","iearn"].includes(e.currentPool),expression:"staked_balance > 0 && ['susdv2', 'sbtc', 'y', 'iearn'].includes(currentPool)"}]},[a("button",{staticClass:"advanced-options-toggle",on:{click:function(t){e.showadvancedoptions=!e.showadvancedoptions}}},[e._v(" Advanced unstaking options "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.showadvancedoptions,expression:"!showadvancedoptions"}]},[a("img",{attrs:{src:"/img/sdw/arrow-up@2x.png"}})]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}]},[a("img",{attrs:{src:"/img/sdw/arrow-down@2x.png"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showadvancedoptions,expression:"showadvancedoptions"}]},[a("div",{staticClass:"unstaking-options"},[a("h2",[e._v("Advanced unstaking options:")]),a("ul",[a("li",{attrs:{id:"stakedbalance"}},[e._v(" Staked tokens: "),a("span",{on:{click:function(t){e.unstakepercentage=e.staked_balance/1e18}}},[e._v(e._s((e.staked_balance/1e18).toFixed(2)))])]),a("li",[a("label",{attrs:{for:"unstakepercentage"}},[e._v("Unstake:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.unstakepercentage,expression:"unstakepercentage"}],class:{invalid:e.unstakePercentageInvalid},attrs:{id:"unstakepercentage"},domProps:{value:e.unstakepercentage},on:{input:function(t){t.target.composing||(e.unstakepercentage=t.target.value)}}}),a("button",{directives:[{name:"show",rawName:"v-show",value:e.staked_balance>0&&["susdv2","sbtc","y","iearn"].includes(e.currentPool),expression:"staked_balance > 0 && ['susdv2', 'sbtc', 'y', 'iearn'].includes(currentPool)"}],staticClass:"unstake-btn",attrs:{id:"unstakestaked",disabled:e.unstakePercentageInvalid},on:{click:function(t){return e.unstakeStaked()}}},[e._v(" Unstake staked ")])])])])])])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",[e._v(" Withdraw % in: "),a("span",{staticClass:"tooltip"},[e._v(" [?] "),a("span",{staticClass:"tooltiptext long"},[e._v(" You can also withdraw in one coin by typing in a currency field ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"tooltip"},[e._v("[?]"),a("span",{staticClass:"tooltiptext"},[e._v("(may use less gas)")])])}],l=(a("99af"),a("cb29"),a("4de4"),a("c740"),a("4160"),a("d81d"),a("fb6a"),a("a9e3"),a("b680"),a("b64b"),a("25f0"),a("3ca3"),a("159b"),a("ddb0"),a("2909")),u=a("5530"),d=(a("96cf"),a("1da1")),p=a("2b0e"),h=a("d99e"),w=a("cf45"),b=a("5245"),m=a("2fa3"),v=a("0a37"),_=a("e7e9"),g=a("0c7c"),f=a("901e"),x=a.n(f),k=a("0c33"),P=(b["f"].compound,{components:{Slippage:k["a"],GasPrice:_["a"]},data:function(){return{share:"100.00",shareStyles:{},inputs:[],inputStyles:[],wallet_balances:[],calc_balances:[],balances:[],staked_balance:null,token_balance:null,token_supply:0,show_nobalance:!1,show_nobalance_i:0,bgColor:[],amounts:[],to_currency:10,test:null,withdrawc:!1,donate_dust:!0,showstaked:!1,pendingSNXRewards:0,pendingRENRewards:0,pendingBALRewards:0,balancerPool:null,withdrawBALPool:0,withdrawSNXPool:0,withdrawRENPool:0,withdrawADAI:0,show_loading:!1,waitingMessage:"",showWithdrawSlippage:!1,maxSlippage:.2,setSlippage:!1,maxInputSlippage:"",customSlippageDisabled:!0,estimateGas:0,ethPrice:0,unstakepercentage:0,get showadvancedoptions(){return"true"===localStorage.getItem("advancedoptions")},set showadvancedoptions(e){localStorage.setItem("advancedoptions",e)},loadingAction:!1,warninglow:!1,showModal:!1,slippagePromise:m["l"](Promise.resolve()),inf_approval:!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$watch((function(){return r["b"].default_account}),(function(t,a){t&&a&&t.toLowerCase()!=a.toLowerCase()&&t&&e.mounted()})),e.$watch((function(){return r["b"].initializedContracts}),(function(t){t&&e.mounted()})),e.$watch((function(){return r["b"].currentContract}),(function(t,a){e.setInputStyles(!1,t,a),r["b"].initializedContracts&&e.mounted()}));case 3:case"end":return t.stop()}}),t)})))()},watch:{to_currency:function(e){0!=this.share&&"---"!=this.share||(this.share=100),this.setInputStyles(),null!==e&&this.handle_change_share()},withdrawc:function(e){"---"!=this.share&&(e||null!==this.to_currency||(this.to_currency=10),e&&null!==this.to_currency&&(this.to_currency=null))},maxSlippage:function(){this.setSlippage=!0},maxInputSlippage:function(e){e&&(this.setSlippage=!0)}},computed:Object(u["a"])({},r["d"],{showMigrateNew:function(){return"compound"==this.currentPool&&this.oldBalance>0||"susd"==this.currentPool},nobalance:function(){return this.staked_balance&&this.token_balance.plus(this.staked_balance).eq(x()(0))},getMaxSlippage:function(){var e=+this.maxSlippage;return this.maxInputSlippage&&(e=+this.maxInputSlippage),(100+e)/100},minAmount:function(){return["tbtc","ren","sbtc"].includes(r["b"].currentContract)?1e-8:.01},calcFee:function(){var e=b["f"][r["b"].currentContract].N_COINS;return this.fee/100*e/(4*(e-1))},gasPrice:function(){return v["a"].gasPrice},gasPriceWei:function(){return v["a"].gasPriceWei},unstakePercentageInvalid:function(){return x()(this.unstakepercentage).times(1e18).gt(x()(this.staked_balance).times(1.01))},unstakeAmount:function(){return this.toFixed(x()(this.unstakepercentage/100).times(this.staked_balance/1e18))},showInfApprovalZap:function(){return!this.withdrawc&&"susdv2"!=this.currentPool||("---"!=this.share&&(null!==this.to_currency&&this.to_currency<10||10==this.to_currency)||void 0)}}),mounted:function(){var e=this;["susdv2","sbtc","y","iearn"].includes(this.currentPool)&&(this.showstaked=!0),this.$watch((function(){return e.showstaked}),this.handle_change_share),"susd"==r["b"].currentContract&&(this.withdrawc=!0),this.setInputStyles(!0),r["b"].initializedContracts&&this.mounted()},methods:{mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return["susdv2","tbtc","ren","sbtc"].includes(e.currentPool)?(e.withdrawc=!0,e.to_currency=null):e.withdrawc=!1,r["b"].showSlippage=!1,r["b"].slippage=0,t.t0=x.a,t.next=6,r["b"].swap_token.methods.allowance(r["b"].default_account||"0x0000000000000000000000000000000000000000",r["b"].deposit_zap._address).call();case 6:if(t.t1=t.sent,a=(0,t.t0)(t.t1),a.lte(r["b"].max_allowance.div(x()(2)))&&(e.inf_approval=!1),!["sbtc"].includes(e.currentPool)){t.next=23;break}return e.balancerPool=new r["b"].web3.eth.Contract(b["c"],b["d"]),window.balancerPool=e.balancerPool,n=[[e.balancerPool._address,e.balancerPool.methods.totalSupply().encodeABI()],[e.balancerPool._address,e.balancerPool.methods.getBalance("0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f").encodeABI()],[e.balancerPool._address,e.balancerPool.methods.getBalance("0x408e41876cccdc0f92210600ef50372656052a38").encodeABI()],[e.balancerPool._address,e.balancerPool.methods.balanceOf(r["b"].default_account).encodeABI()]],t.next=15,r["b"].multicall.methods.aggregate(n).call();case 15:s=t.sent,i=s[1].map((function(e){return r["b"].web3.eth.abi.decodeParameter("uint256",e)})),e.pendingBALRewards=i[0],e.pendingSNXRewards=i[0]*i[2]/i[1],e.pendingRENRewards=i[0]*i[3]/i[1],e.withdrawBALPool=i[4],e.withdrawSNXPool=i[4]*i[2]/i[1],e.withdrawRENPool=i[4]*i[3]/i[1];case 23:if(!["y","iearn"].includes(e.currentPool)){t.next=27;break}return t.next=26,r["b"].aRewards.methods.claimable(r["b"].default_account).call();case 26:e.withdrawADAI=t.sent;case 27:return t.next=29,w["update_fee_info"]();case 29:return t.next=31,e.update_balances();case 31:e.setCalcBalances(),e.handle_change_share();case 33:case"end":return t.stop()}}),t)})))()},getTokenIcon:function(e){return m["j"](e,this.withdrawc,this.currentPool)},toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""==e||void 0==e||0==+e)return"0.00";2==t&&["tbtc","ren","sbtc"].includes(r["b"].currentContract)&&(t=8);var a=e.toFixed(t);return isNaN(a)?"0.00":a},inputsFormat:function(e){return this.inputs[e]?this.toFixed(+this.inputs[e]):"0.00"},setInputStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(a){for(var n=0;n<b["f"][t].N_COINS-b["f"][a].N_COINS;n++)this.inputs.push("0.00");b["f"][a].N_COINS-b["f"][t].N_COINS>0&&(this.inputs=this.inputs.filter((function(e,a){return a<b["f"][t].N_COINS})))}else e&&(this.inputs=new Array(Object.keys(this.currencies).length).fill("0.00"))},calcSlippage:function(){var e=arguments,t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.slippagePromise.cancel(),t.slippagePromise=m["l"](w["calc_slippage"].apply(w,Object(l["a"])(e))),a.next=4,t.slippagePromise;case 4:case"end":return a.stop()}}),a)})))()},handleCheck:function(e){e===this.to_currency?(0==this.withdrawc&&(this.withdrawc=!0),this.to_currency=null,r["b"].slippage=0,r["b"].showSlippage=!1):(this.withdrawc=!1,this.to_currency=e)},setCalcBalances:function(){for(var e=0;e<r["b"].N_COINS;e++){var t=this.showstaked?this.token_balance.plus(this.staked_balance):this.token_balance,a=x()(1*this.balances[e]*r["b"].c_rates[e]*t/this.token_supply);p["a"].set(this.calc_balances,e,a)}},update_balances:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[],r["b"].default_account){for(n=0;n<r["b"].N_COINS;n++)a.push([r["b"].underlying_coins[n]._address,r["b"].underlying_coins[n].methods.balanceOf(r["b"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]);a.push([r["b"].swap_token._address,r["b"].swap_token.methods.balanceOf(r["b"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()])}else e.token_balance=x()(0);for(s=0;s<r["b"].N_COINS;s++)a.push([r["b"].swap._address,r["b"].swap.methods.balances(s).encodeABI()]);return a.push([r["b"].swap_token._address,r["b"].swap_token.methods.totalSupply().encodeABI()]),t.next=6,r["b"].multicall.methods.aggregate(a).call();case 6:i=t.sent,c=i[1].map((function(e){return r["b"].web3.eth.abi.decodeParameter("uint256",e)})),r["b"].default_account&&(c.slice(0,r["b"].N_COINS).map((function(t,a){p["a"].set(e.wallet_balances,a,+t/b["f"][e.currentPool].coin_precisions[a])})),e.token_balance=x()(c[r["b"].N_COINS]),c=c.slice(r["b"].N_COINS+1)),c.slice(0,r["b"].N_COINS+1+r["b"].N_COINS).map((function(t,a){p["a"].set(e.balances,a,+t),r["b"].default_account||p["a"].set(e.balances,a,0)})),console.log(c[c.length-2]),["susdv2","sbtc","y","iearn"].includes(e.currentPool)?e.staked_balance=x()(c[c.length-2]):e.staked_balance=x()(0),e.unstakepercentage=e.toFixed(e.staked_balance.div(1e18)),e.token_supply=+c[c.length-1];case 14:case"end":return t.stop()}}),t)})))()},handle_change_amounts:function(e,t){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var s,i,c,o,u,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.showWithdrawSlippage=!0,a.show_nobalance=!1,!t){n.next=5;break}return a.inputs[e]=t.target.value,n.abrupt("return");case 5:if("susd"!=a.currentPool){n.next=7;break}return n.abrupt("return");case 7:return a.to_currency=null,s=a.inputs.map((function(e,t){return e/r["b"].c_rates[t]})),s=s.map((function(e){return x()(Math.floor(e).toString()).toFixed(0)})),a.show_nobalance=!1,a.show_nobalance_i=0,i=Object(l["a"])(Array(r["b"].N_COINS).keys()).map((function(e){return[r["b"].swap._address,r["b"].swap.methods.balances(e).encodeABI()]})),i.push([r["b"].swap._address,r["b"].swap.methods.calc_token_amount(s,!1).encodeABI()]),i.push([r["b"].swap_token._address,r["b"].swap_token.methods.balanceOf(r["b"].default_account||"0x0000000000000000000000000000000000000000").encodeABI()]),n.prev=15,n.next=18,r["b"].multicall.methods.aggregate(i).call();case 18:c=n.sent,o=c[1].map((function(e){return r["b"].web3.eth.abi.decodeParameter("uint256",e)})),o.slice(0,r["b"].N_COINS).forEach((function(e,t){var n=+e*r["b"].c_rates[t];n<a.inputs[t]?(a.show_nobalance|=!0,a.show_nobalance_i=t):a.show_nobalance|=!1})),u=x()(o[o.length-2]),u=u.div(x()(1-r["b"].fee*r["b"].N_COINS/(4*(r["b"].N_COINS-1)))),d=x()(o[o.length-1]),u.gt(d.plus(x()(a.staked_balance)))?a.setAllInputBackground("red"):a.setAllInputBackground("blue"),a.calcSlippage(a.inputs,!1),a.share="---",n.next=35;break;case 29:n.prev=29,n.t0=n["catch"](15),console.error(n.t0),a.show_nobalance=!0,a.show_nobalance_i=r["b"].bal_info.findIndex((function(e,t){return+a.inputs[t]>+e})),a.setAllInputBackground("red");case 35:case"end":return n.stop()}}),n,null,[[15,29]])})))()},getMinAmounts:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w["update_fee_info"]();case 2:for(a=[],n=0;n<r["b"].N_COINS;n++)a[n]=x()(.98).times(e.share/100).times(x()(e.balances[n])),e.withdrawc||(a[n]=a[n].times(b["f"][r["b"].currentContract].coin_precisions[n]).times(r["b"].c_rates[n])),a[n]=a[n].times(x()(e.token_balance)).div(x()(e.token_supply)).toFixed(0,1);return t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},claim_SNX:function(){var e=arguments,t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var n,s,i,c,o,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],s=!(e.length>1&&void 0!==e[1])||e[1],t.show_loading=!0,t.waitingMessage="Please confirm claiming ".concat((t.pendingSNXRewards/1e18).toFixed(2)," \n                    ").concat(["y","iearn"].includes(t.currentPool)?"YFI":"SNX"),"sbtc"==t.currentPool&&(t.waitingMessage+=" and ".concat((t.pendingRENRewards/1e18).toFixed(2)," REN")),i=Object(h["d"])(t.waitingMessage),c=i.dismiss,a.next=8,Promise.all([m["i"]()]);case 8:return o=a.sent,t.ethPrice=o[0],t.estimateGas=2e5,a.next=13,r["b"].curveRewards.methods.earned(r["b"].default_account).call();case 13:if(l=a.sent,!(l>0&&s)){a.next=17;break}return a.next=17,new Promise((function(e,a){r["b"].curveRewards.methods.getReward().send({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:4e5}).once("transactionHash",(function(e){c(),Object(h["c"])(e)})).on("receipt",(function(){t.pendingSNXRewards=0,e()})).catch((function(e){g["a"](e),c(),a(e)}))}));case 17:if("sbtc"!=t.currentPool||n&&s){a.next=34;break}return t.estimateGas=3e5,a.prev=19,a.t0=x.a,a.next=23,t.balancerPool.methods.balanceOf(r["b"].default_account).call();case 23:return a.t1=a.sent,u=(0,a.t0)(a.t1),a.next=27,t.balancerPool.methods.exitPool(u.toFixed(0,1),["0","0"]).send({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:6e5}).once("transactionHash",(function(e){c(),Object(h["c"])(e)}));case 27:a.next=34;break;case 29:a.prev=29,a.t2=a["catch"](19),console.log(a.t2),c(),g["a"](a.t2);case 34:t.show_loading=!1;case 35:case"end":return a.stop()}}),a,null,[[19,29]])})))()},unstakeStaked:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=x()(e.unstakepercentage).times(1e18),e.unstake(a,!1,!0);case 2:case"end":return t.stop()}}),t)})))()},unstake:function(e){var t=arguments,a=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var s,i,c,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.length>1&&void 0!==t[1]&&t[1],i=t.length>2&&void 0!==t[2]&&t[2],a.waitingMessage=i?"\n                        Please confirm unstaking ".concat(a.toFixed(e.div(x()(1e18)))," tokens\n                    "):"\n                    Unstaking ".concat(a.toFixed(e.div(x()(1e18)))," tokens for withdrawal.\n                    <br>\n                    A bit more tokens are needed to unstake to ensure that withdrawal is successful.\n                    You'll see them in your unstaked balance afterwards.\n                        \n                "),c=Object(h["d"])(a.waitingMessage),o=c.dismiss,n.t0=x.a,n.next=7,r["b"].curveRewards.methods.balanceOf(r["b"].default_account).call();case 7:return n.t1=n.sent,l=(0,n.t0)(n.t1),l.lt(e)&&(e=l),n.prev=10,n.next=13,new Promise((function(t,n){r["b"].curveRewards.methods.withdraw(e.toFixed(0,1)).send({from:r["b"].default_account,gasPrice:a.gasPriceWei,gas:125e3}).once("transactionHash",(function(e){a.waitingMessage="Waiting for unstake transaction to confirm",o(),Object(h["c"])(e),t()})).on("receipt",(function(t){a.staked_balance=a.staked_balance.minus(e),r["b"].curveStakedBalance-=e,w["update_fee_info"]()})).catch((function(e){o(),n(e)}))}));case 13:s&&a.claim_SNX(),n.next=23;break;case 16:throw n.prev=16,n.t2=n["catch"](10),console.log(n.t2),g["a"](n.t2),a.waitingMessage="",a.show_loading=!1,n.t2;case 23:a.waitingMessage="",a.show_loading=!1;case 25:case"end":return n.stop()}}),n,null,[[10,16]])})))()},setLoadingAction:function(e){var t=this;this.loadingAction=e,setTimeout((function(){return t.loadingAction=!1}),500)},handle_remove_liquidity:function(){var e=arguments,t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var n,s,i,c,o,l,u,d,b,v,_,f,k,P,y,N,C,S,I,A,O,M,R,j,F,W,B,q,G,z,E,X,$,D;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],s=e.length>1&&void 0!==e[1]&&e[1],e.length>2&&void 0!==e[2]&&e[2],a.next=5,w["update_fee_info"]();case 5:return a.next=7,t.update_balances();case 7:if(i=0==n?1:2,t.loadingAction!=i){a.next=10;break}return a.abrupt("return");case 10:return t.setLoadingAction(i),a.next=13,Promise.all([m["i"]()]);case 13:c=a.sent,t.ethPrice=c[0],t.estimateGas=0,["susdv2","sbtc","y","earn"].includes(t.currentPool)&&(s?(t.estimateGas=125e3,"sbtc"==t.currentPool&&(t.estimateGas+=3e5)):(o=t.inputs.filter(Number).length,"---"==t.share?t.estimateGas=0|r["c"].withdraw[t.currentPool].imbalance(o):null!==t.to_currency&&t.to_currency<10?t.estimateGas=r["c"].depositzap[t.currentPool].withdraw/2:t.estimateGas=r["c"].depositzap[t.currentPool].withdrawShare/2)),t.show_loading=!0,l=r["b"].deposit_zap,["tbtc","ren","sbtc"].includes(r["b"].currentContract)&&(l=r["b"].swap),[],u=0;case 22:if(!(u<r["b"].N_COINS)){a.next=32;break}if(t.inputs[u]){a.next=26;break}return p["a"].set(t.amounts,u,0),a.abrupt("continue",29);case 26:d=x()(t.calc_balances[u]).minus(x()(t.inputs[u])),b=t.calc_balances[u]>0&&d.lte(x()(t.minAmount))&&d>0,b?p["a"].set(t.amounts,u,x()(t.calc_balances[u]).div(r["b"].c_rates[u]).toFixed(0,1)):p["a"].set(t.amounts,u,x()(Math.floor(t.inputs[u]/r["b"].c_rates[u]).toString()).toFixed(0,1));case 29:u++,a.next=22;break;case 32:if(t.amounts=t.amounts.map((function(e){return e||0})),"---"!=t.share){a.next=116;break}return a.prev=34,a.next=37,r["b"].swap.methods.calc_token_amount(t.amounts,!1).call();case 37:v=a.sent,a.next=45;break;case 40:a.prev=40,a.t0=a["catch"](34),console.error(a.t0),t.show_nobalance=!0,t.show_nobalance_i=t.to_currency;case 45:if(v=x()(v).times(x()(1).plus(t.calcFee)),v=x()(Math.floor(v*t.getMaxSlippage).toString()).toFixed(0,1),!t.token_balance.lt(x()(v))&&!n||!["susdv2","sbtc","y","iearn"].includes(t.currentPool)){a.next=52;break}return _=x()(v).minus(x()(t.token_balance)),n&&(_=x()(v)),a.next=52,t.unstake(_,n&&!s,s);case 52:if(!s){a.next=54;break}return a.abrupt("return");case 54:if(f=t.inputs.filter(Number).length,!t.withdrawc&&!["susdv2","sbtc"].includes(t.currentPool)){a.next=85;break}return k=0|r["c"].withdraw[t.currentPool].imbalance(f),a.prev=57,t.waitingMessage="Please confirm withdrawal transaction",P=Object(h["d"])(t.waitingMessage),y=P.dismiss,a.prev=60,a.next=63,r["b"].swap.methods.remove_liquidity_imbalance(t.amounts,v).estimateGas({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:k});case 63:t.estimateGas=a.sent,a.next=69;break;case 66:a.prev=66,a.t1=a["catch"](60),t.estimateGas=k/2;case 69:return a.next=71,m["o"](100);case 71:return a.next=73,r["b"].swap.methods.remove_liquidity_imbalance(t.amounts,v).send({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:k}).once("transactionHash",(function(e){y(),Object(h["c"])(e),t.waitingMessage="Waiting for withdrawal to confirm: no further action needed"}));case 73:a.next=83;break;case 75:throw a.prev=75,a.t2=a["catch"](57),console.error(a.t2),y(),g["a"](a.t2),t.waitingMessage="",t.show_loading=!1,a.t2;case 83:a.next=114;break;case 85:if(N=t.inputs,N=N.map((function(e){return e||0})),C=t.inputs.map((function(e,a){e||(e=0);var n=x()(t.calc_balances[a]).minus(x()(e));return t.calc_balances[a]>0&&n.lte(x()(t.minAmount))&&n>0?t.calc_balances[a].times(r["b"].coin_precisions[a]).toFixed(0,1):x()(e).times(r["b"].coin_precisions[a]).toFixed(0,1)})),C=C.map((function(e){return e||0})),S=0|r["c"].depositzap[t.currentPool].withdrawImbalance(f),t.waitingMessage="Please approve ".concat(t.toFixed(v/1e18)," Curve LP tokens for withdrawal"),I=Object(h["d"])(t.waitingMessage),y=I.dismiss,a.prev=92,t.estimateGas=S/(["compound","usdt"].includes(r["b"].currentContract)?1.5:2.5),["tbtc","ren","sbtc"].includes(r["b"].currentContract)){a.next=97;break}return a.next=97,w["ensure_allowance_zap_out"](v,void 0,void 0,t.inf_approvalamount);case 97:return y(),t.waitingMessage="Please confirm withdrawal transaction",A=Object(h["d"])(t.waitingMessage),y=A.dismiss,a.next=102,m["o"](100);case 102:return a.next=104,l.methods.remove_liquidity_imbalance(C,v).send({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:S}).once("transactionHash",(function(e){y(),Object(h["c"])(e),t.waitingMessage="Waiting for withdrawal to confirm: no further action needed"}));case 104:a.next=114;break;case 106:throw a.prev=106,a.t3=a["catch"](92),console.error(a.t3),y(),g["a"](a.t3),t.waitingMessage="",t.show_loading=!1,a.t3;case 114:a.next=230;break;case 116:if(O=x()(t.token_balance),100!=t.share){a.next=123;break}return a.t4=x.a,a.next=121,r["b"].swap_token.methods.balanceOf(r["b"].default_account).call();case 121:a.t5=a.sent,O=(0,a.t4)(a.t5);case 123:if(t.showstaked&&(O=O.plus(t.staked_balance)),M=x()(t.share).div(x()(100)).times(O),!t.token_balance.lt(M)&&!n||!["susdv2","sbtc","y","iearn"].includes(t.currentPool)){a.next=130;break}return R=x()(M).minus(x()(t.token_balance)),n&&(R=x()(M)),a.next=130,t.unstake(R,n&&!s,s);case 130:if(!s){a.next=132;break}return a.abrupt("return");case 132:if(M=M.toFixed(0,1),!(null!==t.to_currency&&t.to_currency<10)){a.next=171;break}if(t.waitingMessage="Please approve ".concat(t.toFixed(M/1e18)," Curve LP tokens for withdrawal"),j=Object(h["d"])(t.waitingMessage),y=j.dismiss,t.estimateGas=r["c"].depositzap[t.currentPool].withdraw/2,["tbtc","ren","sbtc"].includes(r["b"].currentContract)){a.next=140;break}return a.next=140,w["ensure_allowance_zap_out"](M,void 0,void 0,t.inf_approval);case 140:return y(),a.prev=141,a.next=144,l.methods.calc_withdraw_one_coin(M,t.to_currency).call();case 144:F=a.sent,F=x()(F).times(x()(1).minus(t.calcFee)),a.next=153;break;case 148:a.prev=148,a.t6=a["catch"](141),console.error(a.t6),t.show_nobalance=!0,t.show_nobalance_i=t.to_currency;case 153:return t.waitingMessage="Please confirm withdrawal transaction",W=Object(h["d"])(t.waitingMessage),y=W.dismiss,B=[x()(M).toFixed(0,1),t.to_currency,x()(F).times(x()(1).div(x()(t.getMaxSlippage))).toFixed(0,1)],["tbtc","ren","sbtc"].includes(r["b"].currentContract)||B.push(t.donate_dust),a.next=159,m["o"](100);case 159:return a.prev=159,a.next=162,(q=l.methods).remove_liquidity_one_coin.apply(q,B).send({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:0|r["c"].depositzap[t.currentPool].withdraw}).once("transactionHash",(function(e){y(),Object(h["c"])(e),t.waitingMessage="Waiting for withdrawal \n                                <a href='https://etherscan.io/tx/".concat(e,"'>transaction</a>\n                                to confirm: no further action needed")}));case 162:a.next=169;break;case 164:a.prev=164,a.t7=a["catch"](159),console.error(a.t7),y(),g["a"](a.t7);case 169:a.next=230;break;case 171:if(10!=t.to_currency){a.next=201;break}if(t.waitingMessage="Please approve ".concat(t.toFixed(M/1e18)," Curve LP tokens for withdrawal"),G=Object(h["d"])(t.waitingMessage),y=G.dismiss,a.prev=174,t.estimateGas=r["c"].depositzap[t.currentPool].withdrawShare/2,["tbtc","ren","sbtc"].includes(r["b"].currentContract)){a.next=179;break}return a.next=179,w["ensure_allowance_zap_out"](M,void 0,void 0,t.inf_approval);case 179:return y(),t.waitingMessage="Please confirm withdrawal transaction",z=Object(h["d"])(t.waitingMessage),y=z.dismiss,a.next=184,t.getMinAmounts();case 184:return E=a.sent,a.next=187,m["o"](100);case 187:return a.next=189,l.methods.remove_liquidity(M,E).send({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:r["c"].depositzap[t.currentPool].withdrawShare}).once("transactionHash",(function(e){y(),Object(h["c"])(e),t.waitingMessage="Waiting for withdrawal \n                                <a href='https://etherscan.io/tx/".concat(e,"'>transaction</a>\n                                to confirm: no further action needed")}));case 189:a.next=199;break;case 191:throw a.prev=191,a.t8=a["catch"](174),console.error(a.t8),y(),g["a"](a.t8),t.waitingMessage="",t.show_loading=!1,a.t8;case 199:a.next=230;break;case 201:return a.prev=201,a.next=204,t.getMinAmounts();case 204:return X=a.sent,t.waitingMessage="Please confirm withdrawal transaction",$=Object(h["d"])(t.waitingMessage),y=$.dismiss,a.prev=207,a.next=210,r["b"].swap.methods.remove_liquidity(M,X).estimateGas({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:6e5});case 210:t.estimateGas=a.sent,a.next=216;break;case 213:a.prev=213,a.t9=a["catch"](207),t.estimateGas=6e5;case 216:return a.next=218,m["o"](100);case 218:return a.next=220,r["b"].swap.methods.remove_liquidity(M,X).send({from:r["b"].default_account,gasPrice:t.gasPriceWei,gas:6e5}).once("transactionHash",(function(e){y(),Object(h["c"])(e),t.waitingMessage="Waiting for withdrawal \n                                <a href='https://etherscan.io/tx/".concat(e,"'>transaction</a>\n                                to confirm: no further action needed")}));case 220:a.next=230;break;case 222:throw a.prev=222,a.t10=a["catch"](201),console.error(a.t10),y(),g["a"](a.t10),t.waitingMessage="",t.show_loading=!1,a.t10;case 230:if("---"==t.share)for(D=0;D<r["b"].N_COINS;D++)t.handle_change_amounts(D);return t.show_loading=!1,t.waitingMessage="",t.estimateGas=0,a.next=236,t.update_balances();case 236:return a.next=238,w["update_fee_info"]();case 238:case"end":return a.stop()}}),a,null,[[34,40],[57,75],[60,66],[92,106],[141,148],[159,164],[174,191],[201,222],[207,213]])})))()},handle_change_share:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,c,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r["b"].deposit_zap,["tbtc","ren","sbtc"].includes(r["b"].currentContract)&&(a=r["b"].swap),e.warninglow=!1,e.showWithdrawSlippage=!1,e.show_nobalance=!1,null==e.to_currency&&0==e.withdrawc&&"---"==e.share&&(e.to_currency=10),"---"!=e.share&&null!=e.to_currency&&10!=e.to_currency&&(e.showWithdrawSlippage=!0),n=e.showstaked?e.token_balance.plus(e.staked_balance):e.token_balance,r["b"].showSlippage=!1,r["b"].slippage=0,!(null!==e.to_currency&&e.to_currency<10)){t.next=39;break}if(s=x()(e.share).div(x()(100)).times(n).toFixed(0,1),100!=e.share){t.next=17;break}return t.next=15,r["b"].swap_token.methods.balanceOf(r["b"].default_account||"0x0000000000000000000000000000000000000000").call();case 15:s=t.sent,e.showstaked&&(s=x()(s).plus(x()(e.staked_balance)).toFixed(0,1));case 17:return i=b["f"][r["b"].currentContract].coin_precisions[e.to_currency],c=Array(r["b"].N_COINS).fill(0),t.prev=19,e.warninglow=!1,t.t0=x.a,t.next=24,a.methods.calc_withdraw_one_coin(s,e.to_currency).call();case 24:t.t1=t.sent,c[e.to_currency]=(0,t.t0)(t.t1),c[e.to_currency].eq(x()(0))&&(e.warninglow=!0),t.next=33;break;case 29:t.prev=29,t.t2=t["catch"](19),console.error(t.t2),""!=e.share&&(e.show_nobalance=!0,e.show_nobalance_i=e.to_currency);case 33:return o=Array(r["b"].N_COINS).fill(0),o[e.to_currency]=c[e.to_currency].div(i),e.inputs=e.inputs.map((function(e){return 0})),e.inputs[e.to_currency]=e.toFixed(x()(o[e.to_currency]),2,1),t.next=39,e.calcSlippage([],!1,c,e.to_currency);case 39:if("---"!=e.share){t.next=43;break}e.share=0,t.next=46;break;case 43:if(!(e.share>100|e.share<0)){t.next=46;break}if(!(null!==e.to_currency&&e.to_currency<10)){t.next=46;break}return t.abrupt("return");case 46:for(l=0;l<r["b"].N_COINS;l++)e.share>=0&e.share<=100?(u=x()(e.share/100*e.balances[l]*r["b"].c_rates[l]*n/e.token_supply),p["a"].set(e.inputs,l,e.toFixed(u,2,1))):p["a"].set(e.inputs,l,0),p["a"].set(e.inputStyles,l,{backgroundColor:"#393B41",color:"#BABABA"});case 47:case"end":return t.stop()}}),t,null,[[19,29]])})))()},setAllInputBackground:function(e){},handle_migrate_new:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("compound"!=e.currentPool){t.next=2;break}return t.abrupt("return",w["handle_migrate_new"]("new"));case 2:return e.share=100,t.next=5,e.handle_remove_liquidity();case 5:case"end":return t.stop()}}),t)})))()},migrateUSDT:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,s,i,c,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.withdrawc=!1,a=e.inputs,a.push(0),e.handle_remove_liquidity(),t.next=6,Object(r["f"])(r["b"].contracts.pax);case 6:return a=a.map((function(e,t){return x()(e).times(b["f"].pax.coin_precisions[t]).toFixed(0)})),e.waitingMessage="Please approve spending your coins",n=Object(h["d"])(e.waitingMessage),s=n.dismiss,t.next=11,w["ensure_allowance"](a,!0,"pax",3);case 11:return s(),i=new r["b"].web3.eth.Contract(b["f"].pax.deposit_abi,b["f"].pax.deposit_address),t.next=15,r["b"].contracts.pax.swap.methods.calc_token_amount(a,!0).call();case 15:return c=t.sent,c=x()(Math.floor(.99*c).toString()).toFixed(0,1),e.waitingMessage="Please confirm deposit to PAX pool transaction",o=Object(h["d"])(e.waitingMessage),s=o.dismiss,l=a.filter(Number).length,u=0|r["c"].depositzap.pax.deposit(l),t.next=23,m["o"](100);case 23:try{i.methods.add_liquidity(a,c).send({from:r["b"].default_account,gas:u}).once("transactionHash",(function(t){s(),Object(h["c"])(t),e.waitingMessage="Waiting for deposit to PAX transaction to confirm no further action required"}))}catch(d){console.error(d),g["a"](d)}case 24:case"end":return t.stop()}}),t)})))()}}}),y=P,N=(a("294a"),a("2877")),C=Object(N["a"])(y,c,o,!1,null,"31e64fd1",null),S=C.exports,I=(a("f5b9"),function(){return{component:Promise.all([a.e("chunk-23e96fd3"),a.e("chunk-3754ad8e"),a.e("chunk-d822ad92"),a.e("chunk-9a294bf2")]).then(a.bind(null,"cc13")),loading:S,delay:0}}),A={components:{Withdraw:S,WithdrawNative:I},created:function(){var e=this;this.$route.path.includes("native")&&(this.swapbtc=!0),this.$watch((function(){return r["b"].currentContract}),(function(t,a){["ren","sbtc"].includes(a)&&!["ren","sbtc"].includes(t)&&(e.swapbtc=!1)}))},data:function(){return{loading:!1}},watch:{swapbtc:function(e){this.loading=!!e}},computed:{swapComponent:function(){return this.swapbtc&&["ren","sbtc"].includes(r["b"].currentContract)?"WithdrawNative":"Withdraw"},currentPool:function(){return r["d"].currentPool()},hasIncomplete:function(){return i["a"]()},swapbtc:{get:function(){return r["b"].swapbtc&&["ren","sbtc"].includes(r["b"].currentContract)},set:function(e){r["b"].swapbtc=e}},publicPath:function(){return"/"}},methods:{loaded:function(){"WithdrawNative"==this.swapComponent&&(this.loading=!1)}}},O=A,M=(a("0ac0"),Object(N["a"])(O,n,s,!1,null,"269c65bd",null));t["default"]=M.exports},f5b9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"loading line"})},s=[],r={},i=r,c=a("2877"),o=Object(c["a"])(i,n,s,!1,null,null,null);o.exports}}]);
//# sourceMappingURL=chunk-21e59e28.e48d5928.js.map